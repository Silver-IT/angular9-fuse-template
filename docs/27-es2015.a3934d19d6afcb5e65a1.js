(window.webpackJsonp=window.webpackJsonp||[]).push([[27],{igdQ:function(t,c,a){"use strict";a.r(c),a.d(c,"ScrumboardModule",(function(){return Hc}));var e=a("tyNb"),o=a("bTqV"),i=a("bSwM"),n=a("A5z7"),r=a("FKr1"),s=a("iadO"),d=a("0IaG"),m=a("kmnG"),l=a("NFeN"),b=a("qFsG"),u=a("MutI"),f=a("STbY"),g=a("bv9b"),p=a("XhcP"),h=a("/t3+"),x=a("Qu3c"),v=a("212X"),w=a("5HBU"),y=a("LPQX"),k=a("2Vo4"),L=a("fXoL"),C=a("tk/3");let F=(()=>{class t{constructor(t){this._httpClient=t,this.onBoardsChanged=new k.a([]),this.onBoardChanged=new k.a([])}resolve(t,c){return this.routeParams=t.params,new Promise((t,c)=>{Promise.all([this.getBoards()]).then(()=>{t()},c)})}getBoards(){return new Promise((t,c)=>{this._httpClient.get("api/scrumboard-boards").subscribe(c=>{this.boards=c,this.onBoardsChanged.next(this.boards),t(this.boards)},c)})}getBoard(t){return new Promise((c,a)=>{this._httpClient.get("api/scrumboard-boards/"+t).subscribe(t=>{this.board=t,this.onBoardChanged.next(this.board),c(this.board)},a)})}addCard(t,c){return this.board.lists.map(a=>{if(a.id===t)return a.idCards.push(c.id)}),this.board.cards.push(c),this.updateBoard()}addList(t){return this.board.lists.push(t),this.updateBoard()}removeList(t){const c=this.board.lists.find(c=>c.id===t);for(const e of c.idCards)this.removeCard(e);const a=this.board.lists.indexOf(c);return this.board.lists.splice(a,1),this.updateBoard()}removeCard(t,c){const a=this.board.cards.find(c=>c.id===t);if(c){const a=this.board.lists.find(t=>c===t.id);a.idCards.splice(a.idCards.indexOf(t),1)}this.board.cards.splice(this.board.cards.indexOf(a),1),this.updateBoard()}updateBoard(){return new Promise((t,c)=>{this._httpClient.post("api/scrumboard-boards/"+this.board.id,this.board).subscribe(c=>{this.onBoardChanged.next(this.board),t(this.board)},c)})}updateCard(t){this.board.cards.map(c=>{if(c.id===t.id)return t}),this.updateBoard()}createNewBoard(t){return new Promise((c,a)=>{this._httpClient.post("api/scrumboard-boards/"+t.id,t).subscribe(a=>{c(t)},a)})}}return t.\u0275fac=function(c){return new(c||t)(L.fc(C.b))},t.\u0275prov=L.Rb({token:t,factory:t.\u0275fac}),t})(),I=(()=>{class t{constructor(t){this._scrumboardService=t}resolve(t){return this._scrumboardService.getBoard(t.paramMap.get("boardId"))}}return t.\u0275fac=function(c){return new(c||t)(L.fc(F))},t.\u0275prov=L.Rb({token:t,factory:t.\u0275fac}),t})();var A=a("XNiG"),S=a("1G5W"),H=a("PVWW"),U=a("jD4G");const M=[{id:"56027e4119ad3a5dc28b36cd",name:"Design",color:"red-500"},{id:"5640635e19ad3a5dc21416b2",name:"App",color:"blue-500"},{id:"6540635g19ad3s5dc31412b2",name:"Feature",color:"green-400"}],_=[{id:"56027c1930450d8bf7b10758",name:"Alice Freeman",avatar:"assets/images/avatars/alice.jpg"},{id:"26027s1930450d8bf7b10828",name:"Danielle Obrien",avatar:"assets/images/avatars/danielle.jpg"},{id:"76027g1930450d8bf7b10958",name:"James Lewis",avatar:"assets/images/avatars/james.jpg"},{id:"36027j1930450d8bf7b10158",name:"Vincent Munoz",avatar:"assets/images/avatars/vincent.jpg"}];class j{constructor(t){this.name=t.name||"Untitled Board",this.uri=t.uri||"untitled-board",this.id=t.id||U.a.generateGUID(),this.settings=t.settings||{color:"",subscribed:!0,cardCoverImages:!0},this.lists=[],this.cards=[],this.members=t.members||_,this.labels=t.labels||M}}var O=a("XiUz"),D=a("EwFO"),B=a("ofXK");const K=function(){return{y:"100%"}},T=function(t){return{value:"*",params:t}};function V(t,c){if(1&t&&(L.bc(0,"div",7),L.bc(1,"mat-icon",5),L.Uc(2,"assessment"),L.ac(),L.bc(3,"div",6),L.Uc(4),L.ac(),L.ac()),2&t){const t=c.$implicit;L.uc("routerLink","/apps/scrumboard/boards/"+t.id+"/"+t.uri)("@animate",L.xc(4,T,L.wc(3,K))),L.Hb(4),L.Vc(t.name)}}const N=function(){return{delay:"100ms"}},z=function(){return{value:"50"}};let G=(()=>{class t{constructor(t,c){this._router=t,this._scrumboardService=c,this._unsubscribeAll=new A.a}ngOnInit(){this._scrumboardService.onBoardsChanged.pipe(Object(S.a)(this._unsubscribeAll)).subscribe(t=>{this.boards=t})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}newBoard(){const t=new j({});this._scrumboardService.createNewBoard(t).then(()=>{this._router.navigate(["/apps/scrumboard/boards/"+t.id+"/"+t.uri])})}}return t.\u0275fac=function(c){return new(c||t)(L.Vb(e.g),L.Vb(F))},t.\u0275cmp=L.Pb({type:t,selectors:[["scrumboard"]],decls:11,vars:11,consts:[["id","boards","fxLayout","column","fxLayoutAlign","start center","fxFlex","","fusePerfectScrollbar","",1,"fuse-navy"],["fxLayout","row","fxLayoutAlign","center center","fxFlex","0 0 auto",1,"header","pt-44","pt-md-88"],["fxFlex","0 0 auto","fxLayout","row wrap","fxLayoutAlign","center center",1,"board-list"],["class","board-list-item","fxLayout","column","fxLayoutAlign","center center",3,"routerLink",4,"ngFor","ngForOf"],["fxLayout","column","fxLayoutAlign","center center",1,"board-list-item","add-new-board",3,"click"],[1,"s-56"],[1,"board-name"],["fxLayout","column","fxLayoutAlign","center center",1,"board-list-item",3,"routerLink"]],template:function(t,c){1&t&&(L.bc(0,"div",0),L.bc(1,"div",1),L.bc(2,"h1"),L.Uc(3,"Scrumboard App"),L.ac(),L.ac(),L.bc(4,"div",2),L.Sc(5,V,5,6,"div",3),L.bc(6,"div",4),L.jc("click",(function(t){return c.newBoard()})),L.bc(7,"mat-icon",5),L.Uc(8,"add_circle"),L.ac(),L.bc(9,"div",6),L.Uc(10,"Add new board"),L.ac(),L.ac(),L.ac(),L.ac()),2&t&&(L.Hb(1),L.uc("@animate",L.xc(5,T,L.wc(4,N))),L.Hb(3),L.uc("@animateStagger",L.wc(7,z)),L.Hb(1),L.uc("ngForOf",c.boards),L.Hb(1),L.uc("@animate",L.xc(9,T,L.wc(8,K))))},directives:[O.e,O.d,O.b,D.a,B.s,l.a,e.h],styles:["scrumboard{min-height:100%}scrumboard #boards{width:100%;overflow:auto;-webkit-overflow-scrolling:touch}scrumboard #boards .header h1{font-size:40px;font-weight:300}scrumboard #boards .board-list{padding:32px 0;max-height:none!important}scrumboard #boards .board-list .board-list-item{min-width:210px;min-height:210px;width:210px;height:210px;padding:24px 0;margin:16px;border-radius:8px;background:rgba(0,0,0,.12);transition:box-shadow .15s ease-in;cursor:pointer}scrumboard #boards .board-list .board-list-item:hover:not(.add-new-board){box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}scrumboard #boards .board-list .board-list-item .board-name{padding:16px 32px 0;font-weight:300;font-size:16px;text-align:center}scrumboard #boards .board-list .board-list-item.add-new-board{background:rgba(0,0,0,.06);border:2px dashed hsla(0,0%,100%,.37)}"],encapsulation:2,data:{animation:H.a}}),t})();class W{constructor(t){this.id=t.id||U.a.generateGUID(),this.name=t.name||"",this.idCards=[]}}var P=a("znSr"),R=a("3Pt+");const $=["nameInput"];function q(t,c){if(1&t){const t=L.cc();L.bc(0,"div",2),L.bc(1,"span"),L.Uc(2),L.ac(),L.bc(3,"button",3),L.jc("click",(function(c){return L.Kc(t),L.nc().openForm()})),L.bc(4,"mat-icon",4),L.Uc(5,"edit_mode"),L.ac(),L.ac(),L.ac()}if(2&t){const t=L.nc();L.Hb(2),L.Vc(t.board.name)}}function X(t,c){if(1&t){const t=L.cc();L.bc(0,"form",5),L.jc("ngSubmit",(function(c){return L.Kc(t),L.nc().onFormSubmit()})),L.Wb(1,"input",6,7),L.bc(3,"button",8),L.bc(4,"mat-icon"),L.Uc(5,"check"),L.ac(),L.ac(),L.bc(6,"button",9),L.jc("click",(function(c){return L.Kc(t),L.nc().closeForm()})),L.bc(7,"mat-icon"),L.Uc(8,"close"),L.ac(),L.ac(),L.ac()}if(2&t){const t=L.nc();L.uc("formGroup",t.form)}}let E=(()=>{class t{constructor(t){this.formBuilder=t,this.formActive=!1,this.boardNameChanged=new L.o}openForm(){this.form=this.formBuilder.group({name:[this.board.name]}),this.formActive=!0,this.focusNameField()}closeForm(){this.formActive=!1}focusNameField(){setTimeout(()=>{this.nameInputField.nativeElement.focus()})}onFormSubmit(){this.form.valid&&(this.board.name=this.form.getRawValue().name,this.board.uri=encodeURIComponent(this.board.name).replace(/%20/g,"-").toLowerCase(),this.boardNameChanged.next(this.board.name),this.formActive=!1)}}return t.\u0275fac=function(c){return new(c||t)(L.Vb(R.c))},t.\u0275cmp=L.Pb({type:t,selectors:[["scrumboard-edit-board-name"]],viewQuery:function(t,c){var a;1&t&&L.Zc($,!0),2&t&&L.Fc(a=L.kc())&&(c.nameInputField=a.first)},inputs:{board:"board"},outputs:{boardNameChanged:"boardNameChanged"},decls:2,vars:2,consts:[["class","board-name","fxFlex","1 0 auto","fxLayout","row","fxLayoutAlign","start center",4,"ngIf"],["class","board-name-form","fxLayout","row","fxFlex","1 0 auto",3,"formGroup","ngSubmit",4,"ngIf"],["fxFlex","1 0 auto","fxLayout","row","fxLayoutAlign","start center",1,"board-name"],["mat-icon-button","",3,"click"],[1,"s-16"],["fxLayout","row","fxFlex","1 0 auto",1,"board-name-form",3,"formGroup","ngSubmit"],["formControlName","name","fxFlex","1 0 auto","placeholder","Write a board name"],["nameInput",""],["mat-icon-button","","fxFlex","0 1 auto"],["mat-icon-button","","fxFlex","0 1 auto","type","button",3,"click"]],template:function(t,c){1&t&&(L.Sc(0,q,6,1,"div",0),L.Sc(1,X,9,1,"form",1)),2&t&&(L.uc("ngIf",!c.formActive),L.Hb(1),L.uc("ngIf",c.formActive))},directives:[B.t,O.b,O.e,O.d,o.b,l.a,R.w,R.p,R.h,R.b,R.o,R.f],styles:["scrumboard-edit-board-name{display:block!important}scrumboard-edit-board-name .board-name{text-overflow:ellipsis;overflow:hidden;font-size:15px;font-weight:600}"],encapsulation:2}),t})();const Q=["nameInput"];function Z(t,c){if(1&t){const t=L.cc();L.bc(0,"button",3),L.jc("click",(function(c){return L.Kc(t),L.nc().openForm()})),L.bc(1,"div",4),L.bc(2,"mat-icon",5),L.Uc(3,"add"),L.ac(),L.bc(4,"span"),L.Uc(5,"Add a list"),L.ac(),L.ac(),L.ac()}}function J(t,c){if(1&t){const t=L.cc();L.bc(0,"form",6),L.jc("submit",(function(c){return L.Kc(t),L.nc().onFormSubmit()})),L.Wb(1,"input",7,8),L.bc(3,"button",9),L.bc(4,"mat-icon"),L.Uc(5,"check"),L.ac(),L.ac(),L.bc(6,"button",10),L.jc("click",(function(c){return L.Kc(t),L.nc().closeForm()})),L.bc(7,"mat-icon"),L.Uc(8,"close"),L.ac(),L.ac(),L.ac()}if(2&t){const t=L.nc();L.uc("formGroup",t.form)}}let Y=(()=>{class t{constructor(t){this._formBuilder=t,this.formActive=!1,this.listAdded=new L.o}openForm(){this.form=this._formBuilder.group({name:[""]}),this.formActive=!0,this.focusNameField()}closeForm(){this.formActive=!1}focusNameField(){setTimeout(()=>{this.nameInputField.nativeElement.focus()})}onFormSubmit(){this.form.valid&&(this.listAdded.next(this.form.getRawValue().name),this.formActive=!1)}}return t.\u0275fac=function(c){return new(c||t)(L.Vb(R.c))},t.\u0275cmp=L.Pb({type:t,selectors:[["scrumboard-board-add-list"]],viewQuery:function(t,c){var a;1&t&&L.Zc(Q,!0),2&t&&L.Fc(a=L.kc())&&(c.nameInputField=a.first)},outputs:{listAdded:"listAdded"},decls:3,vars:2,consts:[[1,"list","new-list","mat-elevation-z1"],["mat-button","","class","new-list-form-button",3,"click",4,"ngIf"],["class","new-list-form","fxLayout","row","fxLayoutAlign","start center","fxFlex","1 0 auto",3,"formGroup","submit",4,"ngIf"],["mat-button","",1,"new-list-form-button",3,"click"],["fxLayout","row","fxLayoutAlign","start center"],[1,"red"],["fxLayout","row","fxLayoutAlign","start center","fxFlex","1 0 auto",1,"new-list-form",3,"formGroup","submit"],["formControlName","name","fxFlex","","placeholder","Write a list Name"],["nameInput",""],["mat-icon-button","","fxFlex","0 1 auto"],["mat-icon-button","","fxFlex","0 1 auto",3,"click"]],template:function(t,c){1&t&&(L.bc(0,"div",0),L.Sc(1,Z,6,0,"button",1),L.Sc(2,J,9,1,"form",2),L.ac()),2&t&&(L.Hb(1),L.uc("ngIf",!c.formActive),L.Hb(1),L.uc("ngIf",c.formActive))},directives:[B.t,o.b,O.e,O.d,l.a,R.w,R.p,O.b,R.h,R.b,R.o,R.f],styles:["scrumboard-board-add-list .new-list{border-radius:2px}scrumboard-board-add-list .new-list .new-list-form-button{text-transform:none;font-size:15px;padding:0 16px;height:64px;margin:0;width:100%}scrumboard-board-add-list .new-list .new-list-form-button mat-icon{border-radius:50%;height:40px;width:40px;line-height:40px;margin-right:16px}scrumboard-board-add-list .new-list .new-list-form{padding:16px;height:64px}scrumboard-board-add-list .new-list .new-list-form>input{height:100%}"],encapsulation:2}),t})();var tt=a("f0Cb"),ct=a("Z9WT"),at=a("s3g0");function et(t,c){1&t&&(L.bc(0,"mat-icon",6),L.Uc(1,"check"),L.ac())}function ot(t,c){if(1&t){const t=L.cc();L.bc(0,"button",7),L.jc("click",(function(c){L.Kc(t);const a=L.nc(2);return c.stopPropagation(),a.setColor("")})),L.bc(1,"mat-icon",6),L.Uc(2,"delete"),L.ac(),L.ac()}}function it(t,c){if(1&t){const t=L.cc();L.bc(0,"mat-list-item",2),L.jc("click",(function(a){L.Kc(t);const e=c.$implicit;return L.nc().setColor(e.key)})),L.bc(1,"p",3),L.Uc(2),L.ac(),L.Sc(3,et,2,0,"mat-icon",4),L.Sc(4,ot,3,0,"button",5),L.ac()}if(2&t){const t=c.$implicit,a=L.nc();L.uc("ngClass",t.key),L.Hb(2),L.Vc(t.key),L.Hb(1),L.uc("ngIf",t.key===a.board.settings.color),L.Hb(1),L.uc("ngIf",t.key===a.board.settings.color)}}let nt=(()=>{class t{constructor(t){this._scrumboardService=t,this.colors=ct.a.all,this._unsubscribeAll=new A.a}ngOnInit(){this._scrumboardService.onBoardChanged.pipe(Object(S.a)(this._unsubscribeAll)).subscribe(t=>{this.board=t})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}setColor(t){this.board.settings.color=t,this._scrumboardService.updateBoard()}}return t.\u0275fac=function(c){return new(c||t)(L.Vb(F))},t.\u0275cmp=L.Pb({type:t,selectors:[["scrumboard-board-color-selector"]],decls:3,vars:3,consts:[[1,"colors"],["class","color m-8 mat-elevation-z1","matRipple","",3,"ngClass","click",4,"ngFor","ngForOf"],["matRipple","",1,"color","m-8","mat-elevation-z1",3,"ngClass","click"],["fxFlex",""],["class","s-16",4,"ngIf"],["mat-icon-button","",3,"click",4,"ngIf"],[1,"s-16"],["mat-icon-button","",3,"click"]],template:function(t,c){1&t&&(L.bc(0,"mat-list",0),L.Sc(1,it,5,4,"mat-list-item",1),L.oc(2,"keys"),L.ac()),2&t&&(L.Hb(1),L.uc("ngForOf",L.pc(2,1,c.colors)))},directives:[u.a,B.s,u.c,r.r,B.q,P.a,O.b,B.t,l.a,o.b],pipes:[at.a],styles:["scrumboard-board-color-selector .colors .color{position:relative;cursor:pointer}"],encapsulation:2}),t})();function rt(t,c){1&t&&(L.bc(0,"mat-icon",13),L.Uc(1,"check"),L.ac())}function st(t,c){1&t&&(L.bc(0,"mat-icon",13),L.Uc(1,"check"),L.ac())}function dt(t,c){if(1&t){const t=L.cc();L.bc(0,"div",2),L.bc(1,"div",3),L.bc(2,"div"),L.Uc(3,"Settings"),L.ac(),L.ac(),L.bc(4,"div",4),L.bc(5,"div",5),L.bc(6,"div",6),L.bc(7,"div",7),L.jc("click",(function(c){return L.Kc(t),L.nc().view="board-color"})),L.bc(8,"mat-icon",8),L.Uc(9,"format_color_fill"),L.ac(),L.bc(10,"p",9),L.Uc(11,"Board Color"),L.ac(),L.ac(),L.ac(),L.bc(12,"div",6),L.bc(13,"div",7),L.jc("click",(function(c){return L.Kc(t),L.nc().toggleCardCover()})),L.bc(14,"mat-icon",8),L.Uc(15,"photo"),L.ac(),L.bc(16,"p",10),L.Uc(17,"Card Cover Images"),L.ac(),L.Sc(18,rt,2,0,"mat-icon",11),L.ac(),L.ac(),L.bc(19,"div",6),L.bc(20,"div",7),L.jc("click",(function(c){return L.Kc(t),L.nc().toggleSubscription()})),L.bc(21,"mat-icon",8),L.Uc(22,"remove_red_eye"),L.ac(),L.bc(23,"p",10),L.Uc(24,"Subscribe"),L.ac(),L.Sc(25,st,2,0,"mat-icon",11),L.ac(),L.ac(),L.bc(26,"div",6),L.bc(27,"div",12),L.bc(28,"mat-icon",8),L.Uc(29,"content_copy"),L.ac(),L.bc(30,"p",9),L.Uc(31,"Copy Board"),L.ac(),L.ac(),L.ac(),L.bc(32,"div",6),L.bc(33,"div",12),L.bc(34,"mat-icon",8),L.Uc(35,"delete"),L.ac(),L.bc(36,"p",9),L.Uc(37,"Delete Board"),L.ac(),L.ac(),L.ac(),L.Wb(38,"mat-divider"),L.ac(),L.ac(),L.ac()}if(2&t){const t=L.nc();L.uc("@slideInLeft",void 0),L.Hb(1),L.uc("ngClass",t.board.settings.color),L.Hb(17),L.uc("ngIf",t.board.settings.cardCoverImages),L.Hb(7),L.uc("ngIf",t.board.settings.subscribed)}}function mt(t,c){if(1&t){const t=L.cc();L.bc(0,"div",2),L.bc(1,"div",14),L.bc(2,"div"),L.Uc(3,"Background Color"),L.ac(),L.bc(4,"button",15),L.jc("click",(function(c){return L.Kc(t),L.nc().view="main"})),L.bc(5,"mat-icon",16),L.Uc(6,"arrow_back"),L.ac(),L.ac(),L.ac(),L.bc(7,"div",17),L.Wb(8,"scrumboard-board-color-selector"),L.ac(),L.ac()}if(2&t){const t=L.nc();L.uc("@slideInRight",void 0),L.Hb(1),L.uc("ngClass",t.board.settings.color)}}let lt=(()=>{class t{constructor(t){this.scrumboardService=t,this.view="main",this._unsubscribeAll=new A.a}ngOnInit(){this.scrumboardService.onBoardChanged.pipe(Object(S.a)(this._unsubscribeAll)).subscribe(t=>{this.board=t})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}toggleCardCover(){this.board.settings.cardCoverImages=!this.board.settings.cardCoverImages,this.scrumboardService.updateBoard()}toggleSubscription(){this.board.settings.subscribed=!this.board.settings.subscribed,this.scrumboardService.updateBoard()}}return t.\u0275fac=function(c){return new(c||t)(L.Vb(F))},t.\u0275cmp=L.Pb({type:t,selectors:[["scrumboard-board-settings"]],decls:3,vars:3,consts:[[1,"views",3,"ngSwitch","click"],["class","view",4,"ngSwitchCase"],[1,"view"],["fxLayout","column","fxLayoutAlign","center center",1,"header","px-24",3,"ngClass"],["fusePerfectScrollbar","",1,"content","py-16"],[1,"nav","material2"],[1,"nav-item"],["matRipple","",1,"nav-link",3,"click"],[1,"nav-link-icon"],[1,"title"],["fxFlex","",1,"title"],["class","s-18",4,"ngIf"],["matRipple","",1,"nav-link"],[1,"s-18"],["fxLayout","row","fxLayoutAlign","space-between center",1,"header","px-24",3,"ngClass"],["mat-icon-button","",3,"click"],[1,"s-16"],["fusePerfectScrollbar","",1,"content","p-8"]],template:function(t,c){1&t&&(L.bc(0,"div",0),L.jc("click",(function(t){return t.stopPropagation()})),L.Sc(1,dt,39,4,"div",1),L.Sc(2,mt,9,2,"div",1),L.ac()),2&t&&(L.uc("ngSwitch",c.view),L.Hb(1),L.uc("ngSwitchCase","main"),L.Hb(1),L.uc("ngSwitchCase","board-color"))},directives:[B.x,B.y,O.e,O.d,B.q,P.a,D.a,r.r,l.a,O.b,B.t,tt.a,o.b,nt],styles:["scrumboard-board-settings{display:flex;flex-direction:column;flex:1 0 auto;height:100%}scrumboard-board-settings .views{display:flex;flex-direction:column;position:relative;overflow:hidden;height:100%}scrumboard-board-settings .views .view{position:absolute;width:100%;height:100%;bottom:0;left:0;right:0;top:0;display:flex;flex-direction:column}scrumboard-board-settings .views .view>.header{flex:0 1 auto;height:64px;min-height:64px;border-bottom:1px solid}scrumboard-board-settings .views .view>.content{flex:1 1 auto;overflow-y:auto;-webkit-overflow-scrolling:touch}"],encapsulation:2,data:{animation:H.a}}),t})();var bt=a("2nsM");class ut{constructor(t){this.id=t.id||U.a.generateGUID(),this.name=t.name||"",this.description=t.description||"",this.idAttachmentCover=t.idAttachmentCover||"",this.idMembers=t.idMembers||[],this.idLabels=t.idLabels||[],this.attachments=t.attachments||[],this.subscribed=t.subscribed||!0,this.checklists=t.checklists||[],this.checkItems=t.checkItems||0,this.checkItemsChecked=t.checkItemsChecked||0,this.comments=t.comments||[],this.activities=t.activities||[],this.due=t.due||""}}var ft=a("qwfY");function gt(t,c){if(1&t){const t=L.cc();L.bc(0,"div",10),L.Wb(1,"div",11),L.bc(2,"mat-checkbox",12),L.jc("change",(function(a){L.Kc(t);const e=c.$implicit,o=L.nc(2);return o.toggleInArray(e.id,o.card.idLabels),o.onCardLabelsChanged()})),L.Uc(3),L.ac(),L.bc(4,"button",13),L.bc(5,"mat-icon",14),L.jc("click",(function(a){L.Kc(t);const e=c.$implicit,o=L.nc(2);return o.labelsMenuView="edit",o.selectedLabel=e})),L.Uc(6,"mode_edit"),L.ac(),L.ac(),L.ac()}if(2&t){const t=c.$implicit,a=L.nc(2);L.Hb(1),L.uc("ngClass",t.color),L.Hb(1),L.uc("checked",a.card.idLabels.indexOf(t.id)>-1),L.Hb(1),L.Wc(" ",t.name," ")}}function pt(t,c){if(1&t){const t=L.cc();L.bc(0,"div",4),L.bc(1,"div",5),L.bc(2,"div"),L.Uc(3,"Labels"),L.ac(),L.bc(4,"button",6),L.jc("click",(function(c){return L.Kc(t),L.nc().labelsMenuView="add"})),L.bc(5,"mat-icon",7),L.Uc(6,"add"),L.ac(),L.bc(7,"span"),L.Uc(8,"Add"),L.ac(),L.ac(),L.ac(),L.bc(9,"div",8),L.Sc(10,gt,7,3,"div",9),L.ac(),L.ac()}if(2&t){const t=L.nc();L.Hb(10),L.uc("ngForOf",t.board.labels)}}function ht(t,c){if(1&t){const t=L.cc();L.bc(0,"div",15),L.bc(1,"div",16),L.bc(2,"button",17),L.jc("click",(function(c){return L.Kc(t),L.nc().labelsMenuView="labels"})),L.bc(3,"mat-icon",7),L.Uc(4,"arrow_back"),L.ac(),L.ac(),L.bc(5,"div"),L.Uc(6,"Edit Label"),L.ac(),L.ac(),L.bc(7,"div",18),L.bc(8,"mat-form-field"),L.bc(9,"input",19),L.jc("ngModelChange",(function(c){return L.Kc(t),L.nc().selectedLabel.name=c}))("change",(function(c){return L.Kc(t),L.nc().onLabelChange()})),L.ac(),L.ac(),L.bc(10,"fuse-material-color-picker",20),L.jc("ngModelChange",(function(c){return L.Kc(t),L.nc().selectedLabel.color=c}))("colorChanged",(function(c){return L.Kc(t),L.nc().onLabelChange()})),L.ac(),L.ac(),L.ac()}if(2&t){const t=L.nc();L.Hb(9),L.uc("ngModel",t.selectedLabel.name),L.Hb(1),L.uc("ngModel",t.selectedLabel.color)}}function xt(t,c){if(1&t){const t=L.cc();L.bc(0,"div",21),L.bc(1,"div",16),L.bc(2,"button",17),L.jc("click",(function(c){return L.Kc(t),L.nc().labelsMenuView="labels"})),L.bc(3,"mat-icon",7),L.Uc(4,"arrow_back"),L.ac(),L.ac(),L.bc(5,"div"),L.Uc(6,"Add Label"),L.ac(),L.ac(),L.bc(7,"form",22,23),L.jc("submit",(function(c){return L.Kc(t),L.nc().addNewLabel()})),L.bc(9,"div",24),L.bc(10,"mat-form-field",25),L.bc(11,"input",26),L.jc("ngModelChange",(function(c){return L.Kc(t),L.nc().newLabel.name=c})),L.ac(),L.ac(),L.bc(12,"fuse-material-color-picker",27),L.jc("ngModelChange",(function(c){return L.Kc(t),L.nc().newLabel.color=c})),L.ac(),L.ac(),L.bc(13,"button",28),L.Uc(14,"ADD NEW LABEL"),L.ac(),L.ac(),L.ac()}if(2&t){const t=L.Gc(8),c=L.nc();L.Hb(11),L.uc("ngModel",c.newLabel.name),L.Hb(1),L.uc("ngModel",c.newLabel.color),L.Hb(1),L.uc("disabled",!t.valid)}}let vt=(()=>{class t{constructor(t){this._scrumboardService=t,this.cardLabelsChanged=new L.o,this.labelsMenuView="labels",this.newLabel={id:"",name:"",color:"blue-400"},this.toggleInArray=U.a.toggleInArray,this._unsubscribeAll=new A.a}ngOnInit(){this._scrumboardService.onBoardChanged.pipe(Object(S.a)(this._unsubscribeAll)).subscribe(t=>{this.board=t})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}onCardLabelsChanged(){this.cardLabelsChanged.next()}onLabelChange(){this._scrumboardService.updateBoard()}addNewLabel(){this.newLabel.id=U.a.generateGUID(),this.board.labels.push(Object.assign({},this.newLabel)),this.newLabel.name="",this.labelsMenuView="labels"}}return t.\u0275fac=function(c){return new(c||t)(L.Vb(F))},t.\u0275cmp=L.Pb({type:t,selectors:[["scrumboard-label-selector"]],inputs:{card:"card"},outputs:{cardLabelsChanged:"cardLabelsChanged"},decls:4,vars:4,consts:[[1,"views",3,"ngSwitch","click"],["class","view","fxFlex","","fxLayout","column",4,"ngSwitchCase"],["class","view edit","fxFlex","","fxLayout","column",4,"ngSwitchCase"],["class","view add","fxFlex","","fxLayout","column",4,"ngSwitchCase"],["fxFlex","","fxLayout","column",1,"view"],["fxLayout","row","fxLayoutAlign","space-between center",1,"header"],["mat-button","",3,"click"],[1,"s-16"],["fxFlex","","fxLayout","column","fusePerfectScrollbar",""],["class","label","fxFlex","0 0 auto","fxLayout","row","fxLayoutAlign","space-between center",4,"ngFor","ngForOf"],["fxFlex","0 0 auto","fxLayout","row","fxLayoutAlign","space-between center",1,"label"],[1,"label-color",3,"ngClass"],["fxFlex","","fxLayout","row","fxLayoutAlign","start center",3,"checked","change"],["mat-icon-button",""],[1,"s-16",3,"click"],["fxFlex","","fxLayout","column",1,"view","edit"],["fxLayout","row","fxLayoutAlign","start center",1,"header"],["mat-icon-button","",3,"click"],["fxLayout","row","fxLayoutAlign","start center",1,"content"],["matInput","","placeholder","Name",3,"ngModel","ngModelChange","change"],[1,"ml-8",3,"ngModel","ngModelChange","colorChanged"],["fxFlex","","fxLayout","column",1,"view","add"],["fxFlex","","fxLayout","column","fxLayoutAlign","start end",3,"submit"],["newLabelForm","ngForm"],["fxFlex","0 1 auto","fxLayout","row","fxLayoutAlign","space-between center"],["fxFlex",""],["matInput","","placeholder","Name","name","labelName","required","",3,"ngModel","ngModelChange"],["name","labelColor",1,"ml-8",3,"ngModel","ngModelChange"],["mat-raised-button","",1,"mat-accent","mt-16",3,"disabled"]],template:function(t,c){1&t&&(L.bc(0,"div",0),L.jc("click",(function(t){return t.stopPropagation()})),L.Sc(1,pt,11,1,"div",1),L.Sc(2,ht,11,2,"div",2),L.Sc(3,xt,15,3,"div",3),L.ac()),2&t&&(L.uc("ngSwitch",c.labelsMenuView),L.Hb(1),L.uc("ngSwitchCase","labels"),L.Hb(1),L.uc("ngSwitchCase","edit"),L.Hb(1),L.uc("ngSwitchCase","add"))},directives:[B.x,B.y,O.b,O.e,O.d,o.b,l.a,D.a,B.s,B.q,P.a,i.a,m.b,b.b,R.b,R.o,R.r,ft.a,R.w,R.p,R.q,R.u],styles:[".scrumboard-labels-menu .mat-menu-content{padding-bottom:0}.scrumboard-labels-menu .mat-menu-content .mat-checkbox-label,.scrumboard-labels-menu .mat-menu-content .mat-checkbox-layout{display:flex;flex:1}.scrumboard-labels-menu .mat-menu-content .views{display:flex;flex-direction:column;position:relative;overflow:hidden;width:240px;min-width:240px;max-width:240px;min-height:240px}.scrumboard-labels-menu .mat-menu-content .views .view{position:absolute;width:240px;height:100%;bottom:0;left:0;right:0;top:0}.scrumboard-labels-menu .mat-menu-content .views .view>.header{border-bottom:1px solid rgba(0,0,0,.1);padding:4px 8px 8px 16px;margin-bottom:8px}.scrumboard-labels-menu .mat-menu-content .views .view .label{margin:0 8px 8px 16px}.scrumboard-labels-menu .mat-menu-content .views .view .label .label-color{width:8px;height:8px;border-radius:100%;margin-right:12px}.scrumboard-labels-menu .mat-menu-content .views .view.add>.header,.scrumboard-labels-menu .mat-menu-content .views .view.edit>.header{padding:0 8px 8px 0}.scrumboard-labels-menu .mat-menu-content .views .view.add form,.scrumboard-labels-menu .mat-menu-content .views .view.edit form{padding:0 16px 8px}.scrumboard-labels-menu .mat-menu-content .views .view.add form .mat-form-field-infix,.scrumboard-labels-menu .mat-menu-content .views .view.edit form .mat-form-field-infix{width:auto!important}.scrumboard-labels-menu .mat-menu-content .views .view.add .content,.scrumboard-labels-menu .mat-menu-content .views .view.edit .content{padding:8px 16px}.scrumboard-labels-menu .mat-menu-content .views .view.add .content .mat-form-field-infix,.scrumboard-labels-menu .mat-menu-content .views .view.edit .content .mat-form-field-infix{width:auto!important}"],encapsulation:2,data:{animation:H.a}}),t})();var wt=a("vVcS");const yt=["checklistMenuTrigger"],kt=["newCheckListTitleField"];function Lt(t,c){if(1&t&&(L.bc(0,"button",13),L.bc(1,"mat-icon"),L.Uc(2,"today"),L.ac(),L.ac()),2&t){L.nc();const t=L.Gc(6);L.uc("matMenuTriggerFor",t)}}function Ct(t,c){if(1&t){const t=L.cc();L.bc(0,"mat-form-field"),L.bc(1,"input",38),L.jc("ngModelChange",(function(c){return L.Kc(t),L.nc(2).card.due=c})),L.ac(),L.Wb(2,"mat-datepicker-toggle",39),L.Wb(3,"mat-datepicker",null,40),L.ac()}if(2&t){const t=L.Gc(4),c=L.nc(2);L.Hb(1),L.uc("matDatepicker",t)("ngModel",c.card.due),L.Hb(1),L.uc("for",t)}}function Ft(t,c){if(1&t){const t=L.cc();L.bc(0,"mat-checkbox",41),L.jc("change",(function(a){L.Kc(t);const e=c.$implicit,o=L.nc(2);return o.toggleInArray(e.id,o.card.idMembers),o.updateCard()})),L.bc(1,"div",42),L.Wb(2,"img",43),L.bc(3,"p",44),L.Uc(4),L.ac(),L.ac(),L.ac()}if(2&t){const t=c.$implicit,a=L.nc(2);L.uc("checked",a.card.idMembers.indexOf(t.id)>-1),L.Hb(2),L.uc("alt",t.name)("src",t.avatar,L.Mc),L.Hb(2),L.Vc(t.name)}}function It(t,c){1&t&&(L.bc(0,"mat-icon"),L.Uc(1,"visibility"),L.ac())}function At(t,c){1&t&&(L.bc(0,"mat-icon"),L.Uc(1,"visibility_off"),L.ac())}function St(t,c){if(1&t){const t=L.cc();L.bc(0,"button",10),L.jc("click",(function(c){return L.Kc(t),L.nc(2).toggleSubscribe()})),L.Uc(1," Unsubscribe "),L.ac()}}function Ht(t,c){if(1&t){const t=L.cc();L.bc(0,"button",10),L.jc("click",(function(c){return L.Kc(t),L.nc(2).toggleSubscribe()})),L.Uc(1," Subscribe "),L.ac()}}function Ut(t,c){if(1&t){const t=L.cc();L.bc(0,"mat-toolbar",3),L.bc(1,"div",4),L.bc(2,"div",5),L.bc(3,"div",6),L.Sc(4,Lt,3,1,"button",7),L.bc(5,"mat-menu",8,9),L.bc(7,"button",10),L.jc("click",(function(c){return L.Kc(t),L.nc().removeDueDate()})),L.Uc(8,"Remove Due Date"),L.ac(),L.ac(),L.Sc(9,Ct,5,3,"mat-form-field",11),L.ac(),L.bc(10,"div",12),L.bc(11,"button",13),L.bc(12,"mat-icon"),L.Uc(13,"label"),L.ac(),L.ac(),L.bc(14,"mat-menu",14,15),L.bc(16,"scrumboard-label-selector",16),L.jc("cardLabelsChanged",(function(c){return L.Kc(t),L.nc().updateCard()})),L.ac(),L.ac(),L.ac(),L.bc(17,"div",17),L.bc(18,"button",18),L.bc(19,"mat-icon"),L.Uc(20,"account_circle"),L.ac(),L.ac(),L.bc(21,"mat-menu",8,19),L.bc(23,"div",20),L.jc("click",(function(c){return L.Kc(t),c.stopPropagation()})),L.Sc(24,Ft,5,4,"mat-checkbox",21),L.ac(),L.ac(),L.ac(),L.bc(25,"button",22),L.bc(26,"mat-icon"),L.Uc(27,"attachment"),L.ac(),L.ac(),L.bc(28,"div",6),L.bc(29,"button",23,24),L.jc("menuOpened",(function(c){return L.Kc(t),L.nc().onChecklistMenuOpen()})),L.bc(31,"mat-icon"),L.Uc(32,"check_box"),L.ac(),L.ac(),L.bc(33,"mat-menu",8,25),L.bc(35,"form",26,27),L.jc("submit",(function(c){L.Kc(t);const a=L.Gc(36);return L.nc().addChecklist(a)}))("click",(function(c){return L.Kc(t),c.stopPropagation()})),L.bc(37,"mat-form-field",28),L.jc("click",(function(c){return L.Kc(t),c.stopPropagation()})),L.bc(38,"mat-label"),L.Uc(39,"Checklist title"),L.ac(),L.Wb(40,"input",29,30),L.ac(),L.bc(43,"button",31),L.Uc(44,"Add Checklist "),L.ac(),L.ac(),L.ac(),L.ac(),L.bc(45,"div",32),L.bc(46,"button",13),L.Sc(47,It,2,0,"mat-icon",11),L.Sc(48,At,2,0,"mat-icon",11),L.ac(),L.bc(49,"mat-menu",8,33),L.Sc(51,St,2,0,"button",34),L.Sc(52,Ht,2,0,"button",34),L.ac(),L.ac(),L.bc(53,"div",35),L.bc(54,"button",18),L.bc(55,"mat-icon"),L.Uc(56,"more_horiz"),L.ac(),L.ac(),L.bc(57,"mat-menu",8,36),L.bc(59,"button",10),L.jc("click",(function(c){return L.Kc(t),L.nc().removeCard()})),L.Uc(60," Remove Card "),L.ac(),L.ac(),L.ac(),L.ac(),L.bc(61,"button",37),L.jc("click",(function(c){return L.Kc(t),L.nc().matDialogRef.close()})),L.bc(62,"mat-icon"),L.Uc(63,"close"),L.ac(),L.ac(),L.ac(),L.ac()}if(2&t){const t=L.Gc(15),c=L.Gc(22),a=L.Gc(34),e=L.Gc(36),o=L.Gc(50),i=L.Gc(58),n=L.nc();L.Hb(4),L.uc("ngIf",n.card.due),L.Hb(1),L.uc("overlapTrigger",!1),L.Hb(4),L.uc("ngIf",!n.card.due),L.Hb(2),L.uc("matMenuTriggerFor",t),L.Hb(3),L.uc("overlapTrigger",!1),L.Hb(2),L.uc("card",n.card),L.Hb(2),L.uc("matMenuTriggerFor",c),L.Hb(3),L.uc("overlapTrigger",!1),L.Hb(3),L.uc("ngForOf",n.board.members),L.Hb(5),L.uc("matMenuTriggerFor",a),L.Hb(4),L.uc("overlapTrigger",!1),L.Hb(10),L.uc("disabled",!e.valid),L.Hb(3),L.uc("matMenuTriggerFor",o),L.Hb(1),L.uc("ngIf",n.card.subscribed),L.Hb(1),L.uc("ngIf",!n.card.subscribed),L.Hb(1),L.uc("overlapTrigger",!1),L.Hb(2),L.uc("ngIf",n.card.subscribed),L.Hb(1),L.uc("ngIf",!n.card.subscribed),L.Hb(2),L.uc("matMenuTriggerFor",i),L.Hb(3),L.uc("overlapTrigger",!1)}}function Mt(t,c){if(1&t){const t=L.cc();L.bc(0,"div",73),L.bc(1,"mat-form-field",49),L.bc(2,"mat-label"),L.Uc(3,"Due Date"),L.ac(),L.bc(4,"input",38),L.jc("ngModelChange",(function(c){return L.Kc(t),L.nc(2).card.due=c})),L.ac(),L.Wb(5,"mat-datepicker-toggle",39),L.Wb(6,"mat-datepicker",null,74),L.ac(),L.ac()}if(2&t){const t=L.Gc(7),c=L.nc(2);L.Hb(4),L.uc("matDatepicker",t)("ngModel",c.card.due),L.Hb(1),L.uc("for",t)}}function _t(t,c){if(1&t&&(L.bc(0,"mat-chip",81),L.oc(1,"getById"),L.bc(2,"span"),L.Uc(3),L.oc(4,"getById"),L.ac(),L.ac()),2&t){const t=c.$implicit,a=L.nc(4);L.uc("ngClass",L.rc(1,2,a.board.labels,t,"color")),L.Hb(3),L.Vc(L.rc(4,6,a.board.labels,t,"name"))}}function jt(t,c){if(1&t&&(L.bc(0,"div",78),L.bc(1,"div",60),L.bc(2,"mat-icon",61),L.Uc(3,"label"),L.ac(),L.bc(4,"span",62),L.Uc(5,"Labels"),L.ac(),L.ac(),L.bc(6,"div",63),L.bc(7,"mat-chip-list",79),L.Sc(8,_t,5,10,"mat-chip",80),L.ac(),L.ac(),L.ac()),2&t){const t=L.nc(3);L.Hb(8),L.uc("ngForOf",t.card.idLabels)}}function Ot(t,c){if(1&t&&(L.bc(0,"div",85),L.Wb(1,"img",86),L.oc(2,"getById"),L.oc(3,"getById"),L.ac()),2&t){const t=c.$implicit,a=L.nc(4);L.Hb(1),L.uc("src",L.rc(2,2,a.board.members,t,"avatar"),L.Mc)("matTooltip",L.rc(3,6,a.board.members,t,"name"))}}function Dt(t,c){if(1&t&&(L.bc(0,"div",82),L.bc(1,"div",60),L.bc(2,"mat-icon",61),L.Uc(3,"supervisor_account"),L.ac(),L.bc(4,"span",62),L.Uc(5,"Members"),L.ac(),L.ac(),L.bc(6,"div",63),L.bc(7,"div",83),L.Sc(8,Ot,4,10,"div",84),L.ac(),L.ac(),L.ac()),2&t){const t=L.nc(3);L.Hb(8),L.uc("ngForOf",t.card.idMembers)}}function Bt(t,c){if(1&t&&(L.bc(0,"div",75),L.Sc(1,jt,9,1,"div",76),L.Sc(2,Dt,9,1,"div",77),L.ac()),2&t){const t=L.nc(2);L.Hb(1),L.uc("ngIf",t.card.idLabels[0]),L.Hb(1),L.uc("ngIf",t.card.idMembers[0])}}function Kt(t,c){1&t&&(L.bc(0,"mat-icon",106),L.Uc(1," star "),L.ac())}function Tt(t,c){1&t&&(L.bc(0,"span"),L.Uc(1,"Make Cover"),L.ac())}function Vt(t,c){1&t&&(L.bc(0,"span"),L.Uc(1,"Remove Cover"),L.ac())}function Nt(t,c){if(1&t){const t=L.cc();L.bc(0,"div",95),L.bc(1,"div",96),L.Wb(2,"img",97),L.ac(),L.bc(3,"div",98),L.bc(4,"div",99),L.bc(5,"div",100),L.bc(6,"span",101),L.Uc(7),L.ac(),L.Sc(8,Kt,2,0,"mat-icon",102),L.ac(),L.bc(9,"span",103),L.Uc(10),L.ac(),L.ac(),L.bc(11,"button",104),L.bc(12,"mat-icon"),L.Uc(13,"more_vert"),L.ac(),L.ac(),L.bc(14,"mat-menu",null,105),L.bc(16,"button",10),L.jc("click",(function(c){L.Kc(t);const a=L.nc().$implicit;return L.nc(3).toggleCoverImage(a.id)})),L.Sc(17,Tt,2,0,"span",11),L.Sc(18,Vt,2,0,"span",11),L.ac(),L.bc(19,"button",10),L.jc("click",(function(c){L.Kc(t);const a=L.nc().$implicit;return L.nc(3).removeAttachment(a)})),L.Uc(20," Remove Attachment "),L.ac(),L.ac(),L.ac(),L.ac()}if(2&t){const t=L.Gc(15),c=L.nc().$implicit,a=L.nc(3);L.Hb(2),L.uc("src",c.src,L.Mc),L.Hb(5),L.Vc(c.name),L.Hb(1),L.uc("ngIf",a.card.idAttachmentCover===c.id),L.Hb(2),L.Vc(c.time),L.Hb(1),L.uc("matMenuTriggerFor",t),L.Hb(6),L.uc("ngIf",a.card.idAttachmentCover!==c.id),L.Hb(1),L.uc("ngIf",a.card.idAttachmentCover===c.id)}}function zt(t,c){if(1&t&&(L.bc(0,"div",107),L.bc(1,"div",108),L.bc(2,"span"),L.Uc(3,"LINK"),L.ac(),L.ac(),L.bc(4,"div",109),L.bc(5,"span",110),L.Uc(6),L.ac(),L.bc(7,"span",103),L.Uc(8),L.ac(),L.ac(),L.ac()),2&t){const t=L.nc().$implicit;L.Hb(6),L.Vc(t.url),L.Hb(2),L.Vc(t.time)}}function Gt(t,c){1&t&&(L.bc(0,"div",92),L.Sc(1,Nt,21,7,"div",93),L.Sc(2,zt,9,2,"div",94),L.ac()),2&t&&(L.uc("ngSwitch",c.$implicit.type),L.Hb(1),L.uc("ngSwitchCase","image"),L.Hb(1),L.uc("ngSwitchCase","link"))}function Wt(t,c){if(1&t&&(L.bc(0,"div",58),L.bc(1,"div",87),L.bc(2,"div",88),L.bc(3,"mat-icon",61),L.Uc(4,"attachment"),L.ac(),L.bc(5,"span",62),L.Uc(6,"Attachments"),L.ac(),L.ac(),L.bc(7,"div",63),L.bc(8,"div",89),L.Sc(9,Gt,3,3,"div",90),L.ac(),L.bc(10,"button",91),L.Uc(11," Add an attachment "),L.ac(),L.ac(),L.ac(),L.ac()),2&t){const t=L.nc(2);L.Hb(9),L.uc("ngForOf",t.card.attachments)}}function Pt(t,c){if(1&t){const t=L.cc();L.bc(0,"div",127),L.bc(1,"div",5),L.bc(2,"mat-form-field",128),L.bc(3,"input",129),L.jc("ngModelChange",(function(a){return L.Kc(t),c.$implicit.name=a})),L.ac(),L.bc(4,"mat-checkbox",130),L.jc("ngModelChange",(function(a){return L.Kc(t),c.$implicit.checked=a}))("change",(function(c){L.Kc(t);const a=L.nc().$implicit;return L.nc(2).updateCheckedCount(a)})),L.ac(),L.bc(5,"button",131),L.jc("click",(function(a){L.Kc(t);const e=c.$implicit,o=L.nc().$implicit;return L.nc(2).removeChecklistItem(e,o)})),L.bc(6,"mat-icon",132),L.Uc(7,"delete"),L.ac(),L.ac(),L.ac(),L.ac(),L.ac()}if(2&t){const t=c.$implicit;L.Hb(3),L.uc("ngModel",t.name),L.Hb(1),L.vc("aria-label",t.name),L.uc("ngModel",t.checked)}}function Rt(t,c){if(1&t){const t=L.cc();L.bc(0,"div",58),L.bc(1,"div",111),L.bc(2,"div",60),L.bc(3,"mat-icon",61),L.Uc(4,"check_box"),L.ac(),L.bc(5,"span",112),L.Uc(6),L.ac(),L.bc(7,"div"),L.bc(8,"button",113),L.bc(9,"mat-icon",47),L.Uc(10,"more_vert"),L.ac(),L.ac(),L.bc(11,"mat-menu",null,114),L.bc(13,"button",10),L.jc("click",(function(a){L.Kc(t);const e=c.$implicit;return L.nc(2).removeChecklist(e)})),L.bc(14,"mat-icon"),L.Uc(15,"delete"),L.ac(),L.bc(16,"span"),L.Uc(17,"Remove Checklist"),L.ac(),L.ac(),L.ac(),L.ac(),L.ac(),L.bc(18,"div",63),L.bc(19,"div",115),L.bc(20,"span",116),L.Uc(21),L.ac(),L.Wb(22,"mat-progress-bar",117),L.ac(),L.bc(23,"div",118),L.Sc(24,Pt,8,3,"div",119),L.ac(),L.bc(25,"form",120,121),L.jc("submit",(function(a){L.Kc(t);const e=c.$implicit,o=L.Gc(26);return L.nc(2).addCheckItem(o,e)})),L.bc(27,"div",122),L.bc(28,"mat-form-field",123),L.Wb(29,"input",124,125),L.ac(),L.ac(),L.bc(31,"button",126),L.bc(32,"mat-icon"),L.Uc(33,"add"),L.ac(),L.ac(),L.ac(),L.ac(),L.ac(),L.ac()}if(2&t){const t=c.$implicit,a=L.Gc(12),e=L.Gc(26);L.Hb(6),L.Vc(t.name),L.Hb(2),L.uc("matMenuTriggerFor",a),L.Hb(13),L.Xc(" ",t.checkItemsChecked," / ",t.checkItems.length," "),L.Hb(1),L.vc("value",100*t.checkItemsChecked/t.checkItems.length),L.Hb(2),L.uc("ngForOf",t.checkItems),L.Hb(7),L.uc("disabled",!e.valid||e.pristine)}}function $t(t,c){if(1&t&&(L.bc(0,"div",133),L.Wb(1,"img",134),L.oc(2,"getById"),L.bc(3,"div",135),L.bc(4,"div",136),L.Uc(5),L.oc(6,"getById"),L.ac(),L.bc(7,"div",137),L.Uc(8),L.ac(),L.bc(9,"div",138),L.Uc(10),L.ac(),L.ac(),L.ac()),2&t){const t=c.$implicit,a=L.nc(2);L.Hb(1),L.uc("src",L.rc(2,4,a.board.members,t.idMember,"avatar"),L.Mc),L.Hb(4),L.Wc(" ",L.rc(6,8,a.board.members,t.idMember,"name")," "),L.Hb(3),L.Vc(t.message),L.Hb(2),L.Vc(t.time)}}function qt(t,c){if(1&t&&(L.bc(0,"div",141),L.Wb(1,"img",142),L.oc(2,"getById"),L.bc(3,"div"),L.bc(4,"div",42),L.bc(5,"div",143),L.Uc(6),L.oc(7,"getById"),L.ac(),L.bc(8,"div",144),L.Uc(9),L.ac(),L.ac(),L.bc(10,"div",145),L.Uc(11),L.ac(),L.ac(),L.ac()),2&t){const t=c.$implicit,a=L.nc(3);L.Hb(1),L.uc("src",L.rc(2,4,a.board.members,t.idMember,"avatar"),L.Mc),L.Hb(5),L.Wc(" ",L.rc(7,8,a.board.members,t.idMember,"name")," "),L.Hb(3),L.Vc(t.message),L.Hb(2),L.Vc(t.time)}}function Xt(t,c){if(1&t&&(L.bc(0,"div",58),L.bc(1,"div",139),L.bc(2,"div",60),L.bc(3,"mat-icon",61),L.Uc(4,"list"),L.ac(),L.bc(5,"span",62),L.Uc(6,"Activity"),L.ac(),L.ac(),L.bc(7,"div",63),L.Sc(8,qt,12,12,"div",140),L.ac(),L.ac(),L.ac()),2&t){const t=L.nc(2);L.Hb(8),L.uc("ngForOf",t.card.activities)}}function Et(t,c){if(1&t){const t=L.cc();L.bc(0,"div",45),L.bc(1,"div",46),L.bc(2,"span"),L.Uc(3),L.ac(),L.bc(4,"mat-icon",47),L.Uc(5,"chevron_right"),L.ac(),L.bc(6,"span"),L.Uc(7),L.ac(),L.ac(),L.bc(8,"div",42),L.bc(9,"div",48),L.bc(10,"mat-form-field",49),L.bc(11,"mat-label"),L.Uc(12,"Title"),L.ac(),L.bc(13,"input",50),L.jc("ngModelChange",(function(c){return L.Kc(t),L.nc().card.name=c}))("change",(function(c){return L.Kc(t),L.nc().updateCard()})),L.ac(),L.ac(),L.ac(),L.Sc(14,Mt,8,3,"div",51),L.ac(),L.bc(15,"div",52),L.bc(16,"mat-form-field",49),L.bc(17,"mat-label"),L.Uc(18,"Description"),L.ac(),L.bc(19,"textarea",53),L.jc("ngModelChange",(function(c){return L.Kc(t),L.nc().card.description=c}))("change",(function(c){return L.Kc(t),L.nc().updateCard()})),L.ac(),L.ac(),L.ac(),L.bc(20,"div",54),L.Sc(21,Bt,3,2,"div",55),L.Sc(22,Wt,12,1,"div",56),L.Sc(23,Rt,34,7,"div",57),L.bc(24,"div",58),L.bc(25,"div",59),L.bc(26,"div",60),L.bc(27,"mat-icon",61),L.Uc(28,"comment"),L.ac(),L.bc(29,"span",62),L.Uc(30,"Comments"),L.ac(),L.ac(),L.bc(31,"div",63),L.bc(32,"form",64,65),L.jc("submit",(function(c){L.Kc(t);const a=L.Gc(33);return L.nc().addNewComment(a)})),L.bc(34,"div",66),L.Wb(35,"img",67),L.bc(36,"mat-form-field",68),L.bc(37,"mat-label"),L.Uc(38,"Comment"),L.ac(),L.Wb(39,"input",69,70),L.ac(),L.bc(41,"button",71),L.bc(42,"mat-icon"),L.Uc(43,"add"),L.ac(),L.ac(),L.ac(),L.ac(),L.Sc(44,$t,11,12,"div",72),L.ac(),L.ac(),L.ac(),L.Sc(45,Xt,9,1,"div",56),L.ac(),L.ac()}if(2&t){const t=L.Gc(33),c=L.nc();L.Hb(3),L.Vc(c.board.name),L.Hb(4),L.Vc(c.list.name),L.Hb(6),L.uc("ngModel",c.card.name),L.Hb(1),L.uc("ngIf",c.card.due),L.Hb(5),L.uc("ngModel",c.card.description),L.Hb(2),L.uc("ngIf",c.card.idLabels[0]||c.card.idMembers[0]),L.Hb(1),L.uc("ngIf",c.card.attachments[0]),L.Hb(1),L.uc("ngForOf",c.card.checklists),L.Hb(18),L.uc("disabled",!t.valid||t.pristine),L.Hb(3),L.uc("ngForOf",c.card.comments),L.Hb(1),L.uc("ngIf",c.card.activities[0])}}let Qt=(()=>{class t{constructor(t,c,a,e){this.matDialogRef=t,this._data=c,this._matDialog=a,this._scrumboardService=e,this.toggleInArray=U.a.toggleInArray,this._unsubscribeAll=new A.a}ngOnInit(){this._scrumboardService.onBoardChanged.pipe(Object(S.a)(this._unsubscribeAll)).subscribe(t=>{this.board=t,this.card=this.board.cards.find(t=>this._data.cardId===t.id),this.list=this.board.lists.find(t=>this._data.listId===t.id)})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}removeDueDate(){this.card.due="",this.updateCard()}toggleSubscribe(){this.card.subscribed=!this.card.subscribed,this.updateCard()}toggleCoverImage(t){this.card.idAttachmentCover=this.card.idAttachmentCover===t?"":t,this.updateCard()}removeAttachment(t){t.id===this.card.idAttachmentCover&&(this.card.idAttachmentCover=""),this.card.attachments.splice(this.card.attachments.indexOf(t),1),this.updateCard()}removeChecklist(t){this.card.checklists.splice(this.card.checklists.indexOf(t),1),this.updateCard()}updateCheckedCount(t){const c=t.checkItems;let a=0,e=0,o=0;for(const i of c)i.checked&&a++;t.checkItemsChecked=a;for(const i of this.card.checklists)o+=i.checkItems.length,e+=i.checkItemsChecked;this.card.checkItems=o,this.card.checkItemsChecked=e,this.updateCard()}removeChecklistItem(t,c){c.checkItems.splice(c.checkItems.indexOf(t),1),this.updateCheckedCount(c),this.updateCard()}addCheckItem(t,c){const a=t.value.checkItem;a&&""!==a&&(c.checkItems.push({name:a,checked:!1}),this.updateCheckedCount(c),t.setValue({checkItem:""}),this.updateCard())}addChecklist(t){this.card.checklists.push({id:U.a.generateGUID(),name:t.value.checklistTitle,checkItemsChecked:0,checkItems:[]}),t.setValue({checklistTitle:""}),t.resetForm(),this.checklistMenu.closeMenu(),this.updateCard()}onChecklistMenuOpen(){setTimeout(()=>{this.newCheckListTitleField.nativeElement.focus()})}addNewComment(t){this.card.comments.unshift({idMember:"36027j1930450d8bf7b10158",message:t.value.newComment,time:"now"}),t.setValue({newComment:""}),this.updateCard()}removeCard(){this.confirmDialogRef=this._matDialog.open(bt.a,{disableClose:!1}),this.confirmDialogRef.componentInstance.confirmMessage="Are you sure you want to delete the card?",this.confirmDialogRef.afterClosed().subscribe(t=>{t&&(this.matDialogRef.close(),this._scrumboardService.removeCard(this.card.id,this.list.id))})}updateCard(){this._scrumboardService.updateCard(this.card)}}return t.\u0275fac=function(c){return new(c||t)(L.Vb(d.f),L.Vb(d.a),L.Vb(d.b),L.Vb(F))},t.\u0275cmp=L.Pb({type:t,selectors:[["scrumboard-board-card-dialog"]],viewQuery:function(t,c){var a;1&t&&(L.Zc(yt,!0),L.Zc(kt,!0)),2&t&&(L.Fc(a=L.kc())&&(c.checklistMenu=a.first),L.Fc(a=L.kc())&&(c.newCheckListTitleField=a.first))},decls:3,vars:2,consts:[[1,"dialog-content-wrapper"],["matDialogTitle","","class","accent m-0","fxFlex","1 0 auto","fxLayout","row",4,"ngIf"],["mat-dialog-content","","class","py-24 px-0 m-0","fusePerfectScrollbar","",4,"ngIf"],["matDialogTitle","","fxFlex","1 0 auto","fxLayout","row",1,"accent","m-0"],["fxFlex","","fxLayout","row","fxLayoutAlign","space-between center"],["fxFlex","","fxLayout","row","fxLayoutAlign","start center"],["fxFlex","0 1 auto",1,"due-date"],["mat-icon-button","",3,"matMenuTriggerFor",4,"ngIf"],[3,"overlapTrigger"],["dueDateMenu","matMenu"],["mat-menu-item","",3,"click"],[4,"ngIf"],["fxFlex","0 1 auto",1,"labels"],["mat-icon-button","",3,"matMenuTriggerFor"],[1,"scrumboard-labels-menu",3,"overlapTrigger"],["labelsMenu","matMenu"],[3,"card","cardLabelsChanged"],["fxFlex","0 1 auto",1,"members"],["mat-icon-button","",1,"",3,"matMenuTriggerFor"],["membersMenu","matMenu"],["fxFlex","","fxLayout","column",1,"scrumboard-members-menu",3,"click"],["class","member px-16",3,"checked","change",4,"ngFor","ngForOf"],["mat-icon-button","","aria-label","Attachment"],["mat-icon-button","",1,"",3,"matMenuTriggerFor","menuOpened"],["checklistMenuTrigger","matMenuTrigger"],["checklistMenu","matMenu"],["fxLayout","column","fxLayoutAlign","start end",1,"px-16","py-8",3,"submit","click"],["newChecklistForm","ngForm"],["appearance","outline","fxFlex","",3,"click"],["matInput","","ngModel","","name","checklistTitle","required",""],["newCheckListTitleField","","checklistTitle","ngModel"],["mat-raised-button","","aria-label","Add Checklist",1,"mat-accent",3,"disabled"],["fxFlex","0 1 auto",1,"subscribe"],["subscribeMenu","matMenu"],["mat-menu-item","",3,"click",4,"ngIf"],["fxFlex","0 1 auto",1,"options"],["optionsMenu","matMenu"],["mat-icon-button","","aria-label","Close Dialog",3,"click"],["matInput","",3,"matDatepicker","ngModel","ngModelChange"],["matSuffix","",3,"for"],["menuPicker",""],[1,"member","px-16",3,"checked","change"],["fxLayout","row","fxLayoutAlign","start center"],[1,"avatar",3,"alt","src"],[1,"member-name"],["mat-dialog-content","","fusePerfectScrollbar","",1,"py-24","px-0","m-0"],["fxLayout","row","fxLayoutAlign","start center",1,"card-breadcrumb","mt-8","mb-32","px-24"],[1,"s-20"],["fxLayout","row","fxLayoutAlign","start center",1,"card-name","px-24"],["appearance","outline",1,"w-100-p"],["matInput","","required","",3,"ngModel","ngModelChange","change"],["class","due-date px-24 pl-0","fxLayout","row","fxLayoutAlign","start center",4,"ngIf"],[1,"description","px-24","mb-16"],["matInput","","columns","1","mat-maxlength","150","max-rows","4",3,"ngModel","ngModelChange","change"],[1,"sections"],["class","section","fxLayout","column","fxLayout.gt-xs","row",4,"ngIf"],["class","section",4,"ngIf"],["class","section",4,"ngFor","ngForOf"],[1,"section"],[1,"comments"],["fxLayout","row","fxLayoutAlign","start center",1,"section-header"],[1,"mr-8"],[1,"section-title"],[1,"section-content"],["name","cardCommentForm","fxLayout","column","fxLayoutAlign","start","no-validate","",1,"comment","new-comment",3,"submit"],["newCommentForm","ngForm"],["fxLayout","row","fxLayoutAlign","center center"],["src","assets/images/avatars/profile.jpg",1,"comment-member-avatar"],["appearance","outline","fxFlex","",1,"mr-12"],["matInput","","name","newComment","ngModel","","required",""],["newComment","ngModel"],["mat-mini-fab","","aria-label","Add",1,"mat-accent",3,"disabled"],["class","comment","fxLayout","row","fxLayoutAlign","start center",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","start center",1,"due-date","px-24","pl-0"],["picker",""],["fxLayout","column","fxLayout.gt-xs","row",1,"section"],["fxFlex","","class","labels",4,"ngIf"],["fxFlex","","class","members",4,"ngIf"],["fxFlex","",1,"labels"],[1,"label-chips"],["class","label-chip mb-4","fxLayout","row","fxLayoutAlign","start center",3,"ngClass",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","start center",1,"label-chip","mb-4",3,"ngClass"],["fxFlex","",1,"members"],["fxLayout","row","fxLayoutWrap","",1,"member-chips"],["class","member-chip mb-4","fxLayout","row","fxLayoutAlign","start center",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","start center",1,"member-chip","mb-4"],[1,"member-chip-avatar",3,"src","matTooltip"],[1,"attachments"],["fxLayout","row","fxLayoutAlign","start",1,"section-header"],["fxLayout","column","fxLayoutAlign","start","fxLayoutWrap","","fxLayout.gt-sm","row"],["class","attachment","fxFlex","33",3,"ngSwitch",4,"ngFor","ngForOf"],["mat-stroked-button","","aria-label","add attachment",1,"add-attachment-button"],["fxFlex","33",1,"attachment",3,"ngSwitch"],["fxLayout","column","fxLayoutAlign","start",4,"ngSwitchCase"],["fxLayout","row",4,"ngSwitchCase"],["fxLayout","column","fxLayoutAlign","start"],[1,"attachment-preview","mat-elevation-z1"],[3,"src"],["fxLayout","row","fxLayoutAlign","start center",1,"attachment-content","mt-8"],["fxFlex",""],["fxLayout","row","fxLayoutAlign","start start"],[1,"attachment-name"],["class","yellow-700-fg attachment-is-cover",4,"ngIf"],[1,"attachment-time"],["mat-icon-button","",1,"attachment-actions-button",3,"matMenuTriggerFor"],["attachmentActionsMenu","matMenu"],[1,"yellow-700-fg","attachment-is-cover"],["fxLayout","row"],["fxLayout","column","fxLayoutAlign","center center",1,"attachment-preview","mat-elevation-z2"],["fxLayout","column",1,"attachment-content"],[1,"attachment-url"],[1,"checklist"],["fxFlex","",1,"section-title"],["mat-icon-button","",1,"checklist-actions-button",3,"matMenuTriggerFor"],["checklistActionsMenu","matMenu"],["fxLayout","row","fxLayoutAlign","start center",1,"checklist-progress"],[1,"checklist-progress-value"],["color","accent","mode","determinate",1,"checklist-progressbar",3,"value"],[1,"check-items"],["class","check-item","fxLayout","row","fxLayoutAlign","space-between center",4,"ngFor","ngForOf"],["name","newCheckItemForm","fxLayout","row","fxLayoutAlign","start center",1,"new-check-item-form",3,"submit"],["newCheckItemForm","ngForm"],["fxLayout","row","fxLayoutAlign","start center","fxFlex",""],["appearance","outline","fxFlex","",1,"no-errors-spacer","mr-16"],["matInput","","ngModel","","name","checkItem","autocomplete","off","placeholder","New checklist item"],["checkItem","ngModel"],["mat-mini-fab","","color","accent","aria-label","Add",3,"disabled"],["fxLayout","row","fxLayoutAlign","space-between center",1,"check-item"],["appearance","outline","fxFlex",""],["matInput","",3,"ngModel","ngModelChange"],["matPrefix","",3,"ngModel","aria-label","ngModelChange","change"],["mat-icon-button","","matSuffix","",1,"checklist-actions-button",3,"click"],[1,"secondary-text"],["fxLayout","row","fxLayoutAlign","start center",1,"comment"],[1,"comment-member-avatar",3,"src"],["fxLayout","column"],[1,"comment-member-name"],[1,"comment-bubble"],[1,"comment-time","secondary-text"],[1,"activities"],["class","activity","fxLayout","row","fxLayoutAlign","start center",4,"ngFor","ngForOf"],["fxLayout","row","fxLayoutAlign","start center",1,"activity"],[1,"activity-member-avatar",3,"src"],[1,"activity-member-name"],[1,"activity-message"],[1,"activity-time","mt-4","secondary-text"]],template:function(t,c){1&t&&(L.bc(0,"div",0),L.Sc(1,Ut,64,20,"mat-toolbar",1),L.Sc(2,Et,46,11,"div",2),L.ac()),2&t&&(L.Hb(1),L.uc("ngIf",c.card),L.Hb(1),L.uc("ngIf",c.card))},directives:[B.t,h.a,d.g,O.b,O.e,O.d,f.d,f.a,o.b,f.c,l.a,vt,B.s,R.w,R.p,R.q,m.b,m.f,b.b,R.b,R.o,R.r,R.u,s.b,s.d,m.h,s.a,i.a,d.d,D.a,n.c,n.a,B.q,P.a,x.a,B.x,B.y,g.a,m.g],pipes:[wt.a],styles:["@media screen and (max-width:599px){.scrumboard-card-dialog{width:100%}}@media screen and (min-width:600px){.scrumboard-card-dialog{width:720px}}.scrumboard-card-dialog .mat-dialog-container{padding:0}.scrumboard-card-dialog .mat-dialog-container .mat-toolbar .due-date .mat-form-field{width:auto;margin:0 8px}.scrumboard-card-dialog .mat-dialog-container .mat-toolbar .due-date .mat-form-field .mat-form-field-wrapper{padding:0}.scrumboard-card-dialog .mat-dialog-container .mat-toolbar .due-date .mat-form-field .mat-form-field-wrapper .mat-form-field-flex{align-items:center}.scrumboard-card-dialog .mat-dialog-container .mat-toolbar .due-date .mat-form-field .mat-form-field-wrapper .mat-form-field-flex .mat-form-field-infix,.scrumboard-card-dialog .mat-dialog-container .mat-toolbar .due-date .mat-form-field .mat-form-field-wrapper .mat-form-field-flex .mat-input-element{display:none}.scrumboard-card-dialog .mat-dialog-container .mat-toolbar .due-date .mat-form-field-prefix .mat-datepicker-toggle-default-icon,.scrumboard-card-dialog .mat-dialog-container .mat-toolbar .due-date .mat-form-field-suffix .mat-datepicker-toggle-default-icon{width:24px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content{position:relative}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .card-breadcrumb{font-weight:600;font-size:16px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .card-subscribe{margin-right:8px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .picker{width:140px;min-width:140px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .card-name{width:100%;font-size:22px}@media screen and (max-width:599px){.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .card-name{font-size:14px}}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section{border-bottom:1px solid;padding:0 24px;margin-bottom:32px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section:last-child{border-bottom:none;margin-bottom:0}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section:last-child .section-content{padding-bottom:0}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .section-header{font-size:16px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .section-header .section-title{font-weight:600}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .section-content{padding:24px 16px 32px 32px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .labels .section-content{padding:8px 0 32px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .labels .label-chips{box-shadow:none;padding:0}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .labels .label-chips .label-chip{display:block}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .labels .label-chips .label-chip .chip-remove{cursor:pointer}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .members .section-content{padding:8px 0 32px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .members .member-chips{box-shadow:none;padding:0}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .members .member-chips .member-chip{margin:4px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .members .member-chips .member-chip .member-chip-avatar{width:32px;border-radius:50%}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .members .member-chips .member-chip .chip-remove{cursor:pointer}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .attachments .attachment{padding:0 24px 24px 0}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .attachments .attachment .attachment-preview{font-weight:600;border-radius:4px;overflow:hidden}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .attachments .attachment .attachment-content .attachment-name,.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .attachments .attachment .attachment-content .attachment-url{font-weight:600;font-size:16px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .attachments .attachment .attachment-content .attachment-is-cover{margin-left:6px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .attachments .add-attachment-button{margin:0}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .attachments .add-attachment-button mat-icon{margin-right:8px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .checklist .checklist-progress{margin:0 0 16px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .checklist .checklist-progress .checklist-progress-value{margin-right:12px;font-weight:600;white-space:nowrap;font-size:14px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .checklist .editable-wrap{flex:1}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .checklist .check-items .check-item mat-checkbox{position:relative;top:-5px;margin:0 12px 0 3px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .checklist .check-items .check-item mat-checkbox .mat-label{font-size:14px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .checklist .check-items .check-item mat-checkbox.mat-checked .mat-label{text-decoration:line-through}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .checklist .check-items .check-item .checklist-actions-button{position:relative;top:2px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .checklist .check-items .check-item mat-form-field.mat-form-field-appearance-outline .mat-form-field-outline{top:0}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .checklist .check-items .check-item mat-form-field .mat-form-field-wrapper{padding:0}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .checklist .check-items .check-item mat-form-field .mat-form-field-wrapper .mat-form-field-infix{border-top:0}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .checklist .new-check-item-form{margin:32px 0 0}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .checklist .new-check-item-form mat-form-field.mat-form-field-appearance-outline .mat-form-field-outline{top:0}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .checklist .new-check-item-form mat-form-field .mat-form-field-wrapper{padding:0}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .checklist .new-check-item-form mat-form-field .mat-form-field-wrapper .mat-form-field-infix{border-top:0}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .comments .comment{margin:0 0 24px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .comments .comment .comment-member-avatar{width:32px;height:32px;border-radius:50%;margin-right:16px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .comments .comment .comment-member-name{font-size:14px;font-weight:600}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .comments .comment .comment-time{font-size:12px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .comments .comment .comment-bubble{position:relative;padding:8px 12px;border:1px solid;font-size:14px;margin:6px 0;border-radius:20px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .comments .comment.new-comment{margin:0 0 24px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .comments .comment.new-comment mat-form-field .mat-form-field-wrapper{padding:0}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .activities .activity{margin-bottom:16px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .activities .activity .activity-member-avatar{width:32px;height:32px;border-radius:50%;margin-right:16px}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .activities .activity .activity-member-name{font-size:14px;font-weight:600;margin-right:5px;white-space:nowrap}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .activities .activity .activity-message{font-size:14px;margin-right:8px;white-space:nowrap}.scrumboard-card-dialog .mat-dialog-container .mat-dialog-content .sections .section .activities .activity .activity-time{font-size:12px}.scrumboard-card-dialog .dialog-content-wrapper{max-height:85vh;display:flex;flex-direction:column}.scrumboard-members-menu{width:240px}.scrumboard-members-menu .mat-checkbox-label,.scrumboard-members-menu .mat-checkbox-layout{display:flex;flex:1}.scrumboard-labels-menu .mat-menu-content{padding-bottom:0}.scrumboard-labels-menu .mat-menu-content .mat-checkbox-label,.scrumboard-labels-menu .mat-menu-content .mat-checkbox-layout{display:flex;flex:1}.scrumboard-labels-menu .mat-menu-content .views{display:flex;flex-direction:column;position:relative;overflow:hidden;width:240px;min-width:240px;max-width:240px;min-height:240px}.scrumboard-labels-menu .mat-menu-content .views .view{position:absolute;width:240px;height:100%;bottom:0;left:0;right:0;top:0}.scrumboard-labels-menu .mat-menu-content .views .view>.header{border-bottom:1px solid}"],encapsulation:2}),t})();const Zt=["nameInput"];function Jt(t,c){if(1&t){const t=L.cc();L.bc(0,"div",2),L.jc("click",(function(c){return L.Kc(t),L.nc().openForm()})),L.Uc(1),L.ac()}if(2&t){const t=L.nc();L.Hb(1),L.Wc(" ",t.list.name,"\n")}}function Yt(t,c){if(1&t){const t=L.cc();L.bc(0,"form",3),L.jc("ngSubmit",(function(c){return L.Kc(t),L.nc().onFormSubmit()})),L.Wb(1,"input",4,5),L.bc(3,"button",6),L.bc(4,"mat-icon"),L.Uc(5,"check"),L.ac(),L.ac(),L.bc(6,"button",7),L.jc("click",(function(c){return L.Kc(t),L.nc().closeForm()})),L.bc(7,"mat-icon"),L.Uc(8,"close"),L.ac(),L.ac(),L.ac()}if(2&t){const t=L.nc();L.uc("formGroup",t.form)}}let tc=(()=>{class t{constructor(t){this._formBuilder=t,this.formActive=!1,this.listNameChanged=new L.o}openForm(){this.form=this._formBuilder.group({name:[this.list.name]}),this.formActive=!0,this.focusNameField()}closeForm(){this.formActive=!1}focusNameField(){setTimeout(()=>{this.nameInputField.nativeElement.focus()})}onFormSubmit(){this.form.valid&&(this.list.name=this.form.getRawValue().name,this.listNameChanged.next(this.list.name),this.formActive=!1)}}return t.\u0275fac=function(c){return new(c||t)(L.Vb(R.c))},t.\u0275cmp=L.Pb({type:t,selectors:[["scrumboard-board-edit-list-name"]],viewQuery:function(t,c){var a;1&t&&L.Zc(Zt,!0),2&t&&L.Fc(a=L.kc())&&(c.nameInputField=a.first)},inputs:{list:"list"},outputs:{listNameChanged:"listNameChanged"},decls:2,vars:2,consts:[["fxFlex","1 0 auto","class","list-header-name",3,"click",4,"ngIf"],["class","list-header-name-form","fxLayout","row","fxFlex","1 0 auto",3,"formGroup","ngSubmit",4,"ngIf"],["fxFlex","1 0 auto",1,"list-header-name",3,"click"],["fxLayout","row","fxFlex","1 0 auto",1,"list-header-name-form",3,"formGroup","ngSubmit"],["formControlName","name","fxFlex","","placeholder","Write a list Name"],["nameInput",""],["mat-icon-button","","fxFlex","0 1 auto"],["mat-icon-button","","fxFlex","0 1 auto","type","button",3,"click"]],template:function(t,c){1&t&&(L.Sc(0,Jt,2,1,"div",0),L.Sc(1,Yt,9,1,"form",1)),2&t&&(L.uc("ngIf",!c.formActive),L.Hb(1),L.uc("ngIf",c.formActive))},directives:[B.t,O.b,R.w,R.p,O.e,R.h,R.b,R.o,R.f,o.b,l.a],styles:["scrumboard-board-edit-list-name .list-header-name{text-overflow:ellipsis;overflow:hidden;font-size:15px;font-weight:600;cursor:pointer}"],encapsulation:2}),t})();const cc=["nameInput"];function ac(t,c){if(1&t){const t=L.cc();L.bc(0,"div",2),L.jc("click",(function(c){return L.Kc(t),L.nc().openForm()})),L.bc(1,"mat-icon",3),L.Uc(2,"add"),L.ac(),L.bc(3,"div"),L.Uc(4,"Add a card"),L.ac(),L.ac()}}function ec(t,c){if(1&t){const t=L.cc();L.bc(0,"div",4),L.bc(1,"form",5),L.jc("submit",(function(c){return L.Kc(t),L.nc().onFormSubmit()})),L.bc(2,"mat-form-field",6),L.Wb(3,"input",7,8),L.ac(),L.bc(5,"div",9),L.bc(6,"button",10),L.bc(7,"span"),L.Uc(8,"Add"),L.ac(),L.ac(),L.bc(9,"button",11),L.jc("click",(function(c){return L.Kc(t),L.nc().closeForm()})),L.bc(10,"mat-icon"),L.Uc(11,"close"),L.ac(),L.ac(),L.ac(),L.ac(),L.ac()}if(2&t){const t=L.nc();L.Hb(1),L.uc("formGroup",t.form),L.Hb(5),L.uc("disabled",t.form.invalid)}}let oc=(()=>{class t{constructor(t){this._formBuilder=t,this.formActive=!1,this.cardAdded=new L.o}openForm(){this.form=this._formBuilder.group({name:""}),this.formActive=!0,this.focusNameField()}closeForm(){this.formActive=!1}focusNameField(){setTimeout(()=>{this.nameInputField.nativeElement.focus()})}onFormSubmit(){if(this.form.valid){const t=this.form.getRawValue().name;this.cardAdded.next(t),this.formActive=!1}}}return t.\u0275fac=function(c){return new(c||t)(L.Vb(R.c))},t.\u0275cmp=L.Pb({type:t,selectors:[["scrumboard-board-add-card"]],viewQuery:function(t,c){var a;1&t&&L.Zc(cc,!0),2&t&&L.Fc(a=L.kc())&&(c.nameInputField=a.first)},outputs:{cardAdded:"cardAdded"},decls:2,vars:2,consts:[["class","add-card-button","fxLayout","row","fxLayoutAlign","start center",3,"click",4,"ngIf"],["class","add-card-form-wrapper",4,"ngIf"],["fxLayout","row","fxLayoutAlign","start center",1,"add-card-button",3,"click"],[1,"s-20"],[1,"add-card-form-wrapper"],["fxLayout","column",1,"add-card-form",3,"formGroup","submit"],["fxFlex","","floatLabel","never"],["matInput","","formControlName","name","placeholder","Card title","autocomplete","off","required",""],["nameInput",""],["fxLayout","row","fxLayoutAlign","space-between center",1,"pl-8"],["mat-raised-button","","aria-label","add",1,"add-button","mat-accent",3,"disabled"],["mat-icon-button","","aria-label","cancel",1,"cancel-button",3,"click"]],template:function(t,c){1&t&&(L.Sc(0,ac,5,0,"div",0),L.Sc(1,ec,12,2,"div",1)),2&t&&(L.uc("ngIf",!c.formActive),L.Hb(1),L.uc("ngIf",c.formActive))},directives:[B.t,O.e,O.d,l.a,R.w,R.p,R.h,m.b,O.b,b.b,R.b,R.o,R.f,R.u,o.b],styles:["scrumboard-board-add-card .add-card-button{position:relative;height:48px;min-height:48px;padding:0 16px;text-align:left;text-transform:none;font-weight:600;font-size:14px;cursor:pointer;border-radius:2px}scrumboard-board-add-card .add-card-button mat-icon{margin-right:8px}scrumboard-board-add-card .add-card-form-wrapper .add-card-form{z-index:999;display:block;position:relative;padding:8px}scrumboard-board-add-card .add-card-form-wrapper .add-card-form mat-form-field{width:100%;margin:0;padding:12px 8px}"],encapsulation:2}),t})();var ic=a("wd/R");function nc(t,c){if(1&t&&(L.bc(0,"div",12),L.Wb(1,"img",13),L.oc(2,"getById"),L.ac()),2&t){const t=L.nc();L.Hb(1),L.uc("src",L.rc(2,1,t.card.attachments,t.card.idAttachmentCover,"src"),L.Mc)}}function rc(t,c){if(1&t&&(L.Wb(0,"span",16),L.oc(1,"getById"),L.oc(2,"getById")),2&t){const t=c.$implicit,a=L.nc(2);L.uc("ngClass",L.rc(1,2,a.board.labels,t,"color"))("matTooltip",L.rc(2,6,a.board.labels,t,"name"))}}function sc(t,c){if(1&t&&(L.bc(0,"div",14),L.Sc(1,rc,3,10,"span",15),L.ac()),2&t){const t=L.nc();L.Hb(1),L.uc("ngForOf",t.card.idLabels)}}const dc=function(t){return{overdue:t}};function mc(t,c){if(1&t&&(L.bc(0,"span",20),L.bc(1,"mat-icon",21),L.Uc(2,"access_time"),L.ac(),L.bc(3,"span"),L.Uc(4),L.oc(5,"date"),L.ac(),L.ac()),2&t){const t=L.nc(2);L.uc("ngClass",L.xc(5,dc,t.isOverdue(t.card.due))),L.Hb(4),L.Vc(L.qc(5,2,t.card.due,"mediumDate"))}}const lc=function(t){return{completed:t}};function bc(t,c){if(1&t&&(L.bc(0,"span",22),L.bc(1,"mat-icon",21),L.Uc(2,"check_circle"),L.ac(),L.bc(3,"span"),L.Uc(4),L.ac(),L.bc(5,"span"),L.Uc(6,"/"),L.ac(),L.bc(7,"span"),L.Uc(8),L.ac(),L.ac()),2&t){const t=L.nc(2);L.uc("ngClass",L.xc(3,lc,t.card.checkItemsChecked===t.card.checkItems)),L.Hb(4),L.Vc(t.card.checkItemsChecked),L.Hb(4),L.Vc(t.card.checkItems)}}function uc(t,c){if(1&t&&(L.bc(0,"div",17),L.Sc(1,mc,6,7,"span",18),L.Sc(2,bc,9,5,"span",19),L.ac()),2&t){const t=L.nc();L.Hb(1),L.uc("ngIf",t.card.due),L.Hb(1),L.uc("ngIf",t.card.checkItems)}}function fc(t,c){if(1&t&&(L.bc(0,"div",25),L.Wb(1,"img",26),L.oc(2,"getById"),L.oc(3,"getById"),L.ac()),2&t){const t=c.$implicit,a=L.nc(2);L.Hb(1),L.uc("src",L.rc(2,2,a.board.members,t,"avatar"),L.Mc)("matTooltip",L.rc(3,6,a.board.members,t,"name"))}}function gc(t,c){if(1&t&&(L.bc(0,"div",23),L.Sc(1,fc,4,10,"div",24),L.ac()),2&t){const t=L.nc();L.Hb(1),L.uc("ngForOf",t.card.idMembers)}}function pc(t,c){1&t&&(L.bc(0,"span",27),L.bc(1,"mat-icon",28),L.Uc(2,"remove_red_eye"),L.ac(),L.ac())}function hc(t,c){1&t&&(L.bc(0,"span",27),L.bc(1,"mat-icon",28),L.Uc(2,"description"),L.ac(),L.ac())}function xc(t,c){if(1&t&&(L.bc(0,"span",27),L.bc(1,"mat-icon",28),L.Uc(2,"attachment"),L.ac(),L.bc(3,"span",29),L.Uc(4),L.ac(),L.ac()),2&t){const t=L.nc();L.Hb(4),L.Vc(t.card.attachments.length)}}function vc(t,c){if(1&t&&(L.bc(0,"span",27),L.bc(1,"mat-icon",28),L.Uc(2,"comment"),L.ac(),L.bc(3,"span",29),L.Uc(4),L.ac(),L.ac()),2&t){const t=L.nc();L.Hb(4),L.Vc(t.card.comments.length)}}let wc=(()=>{class t{constructor(t){this._activatedRoute=t}ngOnInit(){this.board=this._activatedRoute.snapshot.data.board,this.card=this.board.cards.filter(t=>this.cardId===t.id)[0]}isOverdue(t){return ic()>ic(new Date(t))}}return t.\u0275fac=function(c){return new(c||t)(L.Vb(e.a))},t.\u0275cmp=L.Pb({type:t,selectors:[["scrumboard-board-card"]],inputs:{cardId:"cardId"},decls:16,vars:9,consts:[["class","list-card-cover",4,"ngIf"],[1,"list-card-details"],[1,"list-card-sort-handle"],["mat-font-icon","icon-cursor-move",1,"icon","s16"],["class","list-card-labels","fxLayout","row wrap",4,"ngIf"],[1,"list-card-name"],["class","list-card-badges","fxLayout","row","fxLayoutAlign","start center",4,"ngIf"],["class","list-card-members","fxLayout","row",4,"ngIf"],["fxLayout","row","fxLayoutAlign","space-between center",1,"list-card-footer"],["fxLayout","row","fxLayoutAlign","start center"],["class","list-card-footer-item","fxLayout","row","fxLayoutAlign","start center",4,"ngIf"],["fxLayout","row","fxLayoutAlign","end center"],[1,"list-card-cover"],[3,"src"],["fxLayout","row wrap",1,"list-card-labels"],["class","list-card-label",3,"ngClass","matTooltip",4,"ngFor","ngForOf"],[1,"list-card-label",3,"ngClass","matTooltip"],["fxLayout","row","fxLayoutAlign","start center",1,"list-card-badges"],["class","badge due-date","fxLayout","row","fxLayoutAlign","start center",3,"ngClass",4,"ngIf"],["class","badge check-items","fxLayout","row","fxLayoutAlign","start center",3,"ngClass",4,"ngIf"],["fxLayout","row","fxLayoutAlign","start center",1,"badge","due-date",3,"ngClass"],[1,"s-16"],["fxLayout","row","fxLayoutAlign","start center",1,"badge","check-items",3,"ngClass"],["fxLayout","row",1,"list-card-members"],["class","list-card-member",4,"ngFor","ngForOf"],[1,"list-card-member"],[1,"list-card-member-avatar",3,"src","matTooltip"],["fxLayout","row","fxLayoutAlign","start center",1,"list-card-footer-item"],[1,"s-18"],[1,"value"]],template:function(t,c){1&t&&(L.Sc(0,nc,3,5,"div",0),L.bc(1,"div",1),L.bc(2,"div",2),L.Wb(3,"mat-icon",3),L.ac(),L.Sc(4,sc,2,1,"div",4),L.bc(5,"div",5),L.Uc(6),L.ac(),L.Sc(7,uc,3,2,"div",6),L.Sc(8,gc,2,1,"div",7),L.ac(),L.bc(9,"div",8),L.bc(10,"div",9),L.Sc(11,pc,3,0,"span",10),L.Sc(12,hc,3,0,"span",10),L.ac(),L.bc(13,"div",11),L.Sc(14,xc,5,1,"span",10),L.Sc(15,vc,5,1,"span",10),L.ac(),L.ac()),2&t&&(L.uc("ngIf",c.board.settings.cardCoverImages&&c.card.idAttachmentCover),L.Hb(4),L.uc("ngIf",c.card.idLabels.length>0),L.Hb(2),L.Vc(c.card.name),L.Hb(1),L.uc("ngIf",c.card.due||c.card.checkItems),L.Hb(1),L.uc("ngIf",c.card.idMembers.length>0),L.Hb(3),L.uc("ngIf",c.card.subscribed),L.Hb(1),L.uc("ngIf",""!==c.card.description),L.Hb(2),L.uc("ngIf",c.card.attachments),L.Hb(1),L.uc("ngIf",c.card.comments))},directives:[B.t,l.a,O.e,O.d,B.s,B.q,P.a,x.a],pipes:[wt.a,B.f],styles:['scrumboard-board-card{position:relative;display:block;width:100%;margin:16px 0!important;border-radius:4px;border:1px solid;cursor:pointer}scrumboard-board-card .list-card-sort-handle{display:none;position:absolute;top:0;right:0;padding:4px;background:hsla(0,0%,100%,.8)}scrumboard-board-card .list-card-details{padding:16px 16px 0}scrumboard-board-card .list-card-details .list-card-labels{margin-bottom:6px}scrumboard-board-card .list-card-details .list-card-labels .list-card-label{width:32px;height:6px;border-radius:6px;margin:0 6px 6px 0}scrumboard-board-card .list-card-details .list-card-name{font-size:14px;font-weight:600;margin-bottom:12px}scrumboard-board-card .list-card-details .list-card-badges{margin-bottom:12px}scrumboard-board-card .list-card-details .list-card-badges .badge{margin-right:8px;padding:4px 8px;border-radius:2px}scrumboard-board-card .list-card-details .list-card-badges .badge mat-icon{margin-right:4px}scrumboard-board-card .list-card-details .list-card-members{margin-bottom:12px}scrumboard-board-card .list-card-details .list-card-members .list-card-member{margin-right:8px}scrumboard-board-card .list-card-details .list-card-members .list-card-member .list-card-member-avatar{border-radius:50%;width:32px;height:32px}scrumboard-board-card .list-card-footer{border-top:1px solid;padding:0 16px}scrumboard-board-card .list-card-footer .list-card-footer-item{height:48px;margin-right:12px}scrumboard-board-card .list-card-footer .list-card-footer-item .value{padding-left:8px}scrumboard-board-card .list-card-footer .list-card-footer-item:last-of-type{margin-right:0}scrumboard-board-card .ngx-dnd-content{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}scrumboard-board-card.gu-mirror{position:fixed!important;margin:0!important;z-index:9999!important;opacity:.8;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=80)";filter:alpha(opacity=80);box-shadow:0 4px 5px -2px rgba(0,0,0,.2),0 7px 10px 1px rgba(0,0,0,.14),0 2px 16px 1px rgba(0,0,0,.12)}scrumboard-board-card.gu-hide{display:none!important}scrumboard-board-card.gu-unselectable{-webkit-user-select:none!important;-moz-user-select:none!important;-ms-user-select:none!important;user-select:none!important}scrumboard-board-card.gu-transit{opacity:.2;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=20)";filter:alpha(opacity=20)}'],encapsulation:2}),t})();function yc(t,c){if(1&t){const t=L.cc();L.bc(0,"scrumboard-board-card",13),L.jc("click",(function(a){L.Kc(t);const e=c.$implicit;return L.nc().openCardDialog(e)})),L.ac()}if(2&t){const t=c.$implicit;L.uc("model",t)("cardId",t)}}let kc=(()=>{class t{constructor(t,c,a){this._activatedRoute=t,this._scrumboardService=c,this._matDialog=a,this._unsubscribeAll=new A.a}ngOnInit(){this._scrumboardService.onBoardChanged.pipe(Object(S.a)(this._unsubscribeAll)).subscribe(t=>{this.board=t})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}onListNameChanged(t){this.list.name=t}onCardAdd(t){""!==t&&(this._scrumboardService.addCard(this.list.id,new ut({name:t})),setTimeout(()=>{this.listScroll.scrollToBottom(0,400)}))}removeList(t){this.confirmDialogRef=this._matDialog.open(bt.a,{disableClose:!1}),this.confirmDialogRef.componentInstance.confirmMessage="Are you sure you want to delete the list and it's all cards?",this.confirmDialogRef.afterClosed().subscribe(c=>{c&&this._scrumboardService.removeList(t)})}openCardDialog(t){this.dialogRef=this._matDialog.open(Qt,{panelClass:"scrumboard-card-dialog",data:{cardId:t,listId:this.list.id}}),this.dialogRef.afterClosed().subscribe(t=>{})}onDrop(t){this._scrumboardService.updateBoard()}}return t.\u0275fac=function(c){return new(c||t)(L.Vb(e.a),L.Vb(F),L.Vb(d.b))},t.\u0275cmp=L.Pb({type:t,selectors:[["scrumboard-board-list"]],viewQuery:function(t,c){var a;1&t&&L.Zc(D.a,!0),2&t&&L.Fc(a=L.kc())&&(c.listScroll=a.first)},inputs:{list:"list"},decls:17,vars:4,consts:[["fxLayout","column",1,"list","mat-elevation-z1"],["fxFlex","","fxLayout","row","fxLayoutAlign","space-between center",1,"list-header"],["fxFlex","1 0 auto",3,"list","listNameChanged"],["fxFlex","0 1 auto"],["mat-icon-button","",1,"list-header-option-button",3,"matMenuTriggerFor"],["listMenu","matMenu"],["mat-menu-item","",3,"click"],["fxLayout","column",1,"list-content"],["ngxDroppable","card","fusePerfectScrollbar","",1,"list-cards","ngx-dnd-container",3,"model","out"],["listScroll",""],["ngxDraggable","","class","scrumboard-board-card ngx-dnd-item",3,"model","cardId","click",4,"ngFor","ngForOf"],[1,"list-footer"],[3,"cardAdded"],["ngxDraggable","",1,"scrumboard-board-card","ngx-dnd-item",3,"model","cardId","click"]],template:function(t,c){if(1&t&&(L.bc(0,"div",0),L.bc(1,"div",1),L.bc(2,"scrumboard-board-edit-list-name",2),L.jc("listNameChanged",(function(t){return c.onListNameChanged(t)})),L.ac(),L.bc(3,"div",3),L.bc(4,"button",4),L.bc(5,"mat-icon"),L.Uc(6,"more_vert"),L.ac(),L.ac(),L.bc(7,"mat-menu",null,5),L.bc(9,"button",6),L.jc("click",(function(t){return c.removeList(c.list.id)})),L.Uc(10,"Remove List"),L.ac(),L.ac(),L.ac(),L.ac(),L.bc(11,"div",7),L.bc(12,"div",8,9),L.jc("out",(function(t){return c.onDrop(t)})),L.Sc(14,yc,1,2,"scrumboard-board-card",10),L.ac(),L.ac(),L.bc(15,"div",11),L.bc(16,"scrumboard-board-add-card",12),L.jc("cardAdded",(function(t){return c.onCardAdd(t)})),L.ac(),L.ac(),L.ac()),2&t){const t=L.Gc(8);L.Hb(2),L.uc("list",c.list),L.Hb(2),L.uc("matMenuTriggerFor",t),L.Hb(8),L.uc("model",c.list.idCards),L.Hb(2),L.uc("ngForOf",c.list.idCards)}},directives:[O.e,O.b,O.d,tc,o.b,f.c,l.a,f.d,f.a,v.c,D.a,B.s,oc,wc,v.b],styles:['scrumboard-board-list{width:344px;min-width:344px;max-width:344px;padding-right:24px!important;height:100%}scrumboard-board-list .list{max-height:100%;border-radius:2px;transition:box-shadow .15s ease}scrumboard-board-list .list .list-header{height:64px;min-height:64px;padding:0 8px 0 16px;border-bottom:1px solid}@media screen and (max-width:959px){scrumboard-board-list .list .list-header{height:48px;min-height:48px}}scrumboard-board-list .list .list-content{position:relative;min-height:0;overflow:hidden;overflow-y:auto;-webkit-overflow-scrolling:touch}scrumboard-board-list .list .list-content .list-cards{position:relative;min-height:32px;padding:0 16px}scrumboard-board-list .list .list-footer{display:flex;flex-direction:column;flex:1 0 auto;border-top:1px solid;min-height:48px}scrumboard-board-list .ngx-dnd-content{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none}scrumboard-board-list.gu-mirror{position:fixed!important;margin:0!important;z-index:9999!important;opacity:.8;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=80)";filter:alpha(opacity=80)}scrumboard-board-list.gu-mirror>.list{box-shadow:0 4px 5px -2px rgba(0,0,0,.2),0 7px 10px 1px rgba(0,0,0,.14),0 2px 16px 1px rgba(0,0,0,.12)}scrumboard-board-list.gu-hide{display:none!important}scrumboard-board-list.gu-unselectable{-webkit-user-select:none!important;-moz-user-select:none!important;-ms-user-select:none!important;user-select:none!important}scrumboard-board-list.gu-transit{opacity:.2;-ms-filter:"progid:DXImageTransform.Microsoft.Alpha(Opacity=20)";filter:alpha(opacity=20)}'],encapsulation:2}),t})();function Lc(t,c){1&t&&(L.bc(0,"mat-icon",17),L.Uc(1,"remove_red_eye"),L.ac())}const Cc=function(){return{duration:"350ms",x:"100%"}},Fc=function(t){return{value:"*",params:t}};function Ic(t,c){if(1&t&&L.Wb(0,"scrumboard-board-list",18),2&t){const t=c.$implicit;L.uc("model",t)("list",t)("@animate",L.xc(4,Fc,L.wc(3,Cc)))}}const Ac=function(){return{value:"50"}},Sc=[{path:"boards",component:G,resolve:{scrumboard:F}},{path:"boards/:boardId/:boardUri",component:(()=>{class t{constructor(t,c,a){this._activatedRoute=t,this._location=c,this._scrumboardService=a,this._unsubscribeAll=new A.a}ngOnInit(){this._scrumboardService.onBoardChanged.pipe(Object(S.a)(this._unsubscribeAll)).subscribe(t=>{this.board=t})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}onListAdd(t){""!==t&&this._scrumboardService.addList(new W({name:t}))}onBoardNameChanged(t){this._scrumboardService.updateBoard(),this._location.go("/apps/scrumboard/boards/"+this.board.id+"/"+this.board.uri)}onDrop(t){this._scrumboardService.updateBoard()}}return t.\u0275fac=function(c){return new(c||t)(L.Vb(e.a),L.Vb(B.n),L.Vb(F))},t.\u0275cmp=L.Pb({type:t,selectors:[["scrumboard-board"]],decls:24,vars:13,consts:[["id","board"],["fxLayout","column",1,"header","p-16","p-md-24",3,"ngClass"],["fxLayout","row wrap","fxLayoutAlign","space-between","fxFlex","1 0 auto",1,"header-content"],["fxLayout","row","fxLayoutAlign","center center","fxFlexOrder","2","fxFlexOrder.gt-xs","1"],["mat-raised-button","","routerLink","/apps/scrumboard/boards","aria-label","boards button",1,"header-boards-button",3,"ngClass"],[1,"mr-8"],["fxLayout","row","fxLayoutAlign","center center","fxLayout.gt-xs","row","fxLayoutAlign.gt-xs","center center","fxFlex","1 0 100%","fxFlex.gt-xs","1 0 auto","fxFlexOrder","1","fxFlexOrder.gt-xs","2",1,"header-board-name","mb-8","mb-md-0"],["class","board-subscribe s-16",4,"ngIf"],[3,"board","boardNameChanged"],["fxLayout","row","fxLayoutAlign","space-between center","fxFlexOrder","3",1,"toolbar"],["mat-icon-button","","aria-label","Settings","matTooltip","Settings",3,"click"],["fxFlex","",1,"board-content-wrapper","p-16","p-md-24"],["fxLayout","row","ngxDroppable","list",1,"board-content","ngx-dnd-container","p-16","p-md-24",3,"model","out"],["class","scrumboard-board-list list-wrapper ngx-dnd-item","ngxDraggable","",3,"model","list",4,"ngFor","ngForOf"],["ngxDraggable","",1,"new-list-wrapper",3,"moves","listAdded"],["position","end"],["settingsSidenav",""],[1,"board-subscribe","s-16"],["ngxDraggable","",1,"scrumboard-board-list","list-wrapper","ngx-dnd-item",3,"model","list"]],template:function(t,c){if(1&t){const t=L.cc();L.bc(0,"mat-sidenav-container"),L.bc(1,"div",0),L.bc(2,"div",1),L.bc(3,"div",2),L.bc(4,"div",3),L.bc(5,"button",4),L.bc(6,"mat-icon",5),L.Uc(7,"assessment"),L.ac(),L.bc(8,"span"),L.Uc(9,"BOARDS"),L.ac(),L.ac(),L.ac(),L.bc(10,"div",6),L.Sc(11,Lc,2,0,"mat-icon",7),L.bc(12,"scrumboard-edit-board-name",8),L.jc("boardNameChanged",(function(t){return c.onBoardNameChanged(t)})),L.ac(),L.ac(),L.bc(13,"div",9),L.bc(14,"button",10),L.jc("click",(function(c){return L.Kc(t),L.Gc(22).toggle()})),L.bc(15,"mat-icon"),L.Uc(16,"settings"),L.ac(),L.ac(),L.ac(),L.ac(),L.ac(),L.bc(17,"div",11),L.bc(18,"div",12),L.jc("out",(function(t){return c.onDrop(t)})),L.Sc(19,Ic,1,6,"scrumboard-board-list",13),L.bc(20,"scrumboard-board-add-list",14),L.jc("listAdded",(function(t){return c.onListAdd(t)})),L.ac(),L.ac(),L.ac(),L.ac(),L.bc(21,"mat-sidenav",15,16),L.Wb(23,"scrumboard-board-settings"),L.ac(),L.ac()}2&t&&(L.Hb(2),L.uc("ngClass",c.board.settings.color),L.Hb(3),L.uc("ngClass",c.board.settings.color+"-800"),L.Hb(6),L.uc("ngIf",c.board.settings.subscribed),L.Hb(1),L.uc("board",c.board),L.Hb(6),L.uc("model",c.board.lists)("@animateStagger",L.wc(9,Ac)),L.Hb(1),L.uc("ngForOf",c.board.lists),L.Hb(1),L.uc("moves",!1)("@animate",L.xc(11,Fc,L.wc(10,Cc))))},directives:[p.b,O.e,B.q,P.a,O.d,O.b,O.c,o.b,e.h,l.a,B.t,E,x.a,v.c,B.s,Y,v.b,p.a,lt,kc],styles:["scrumboard-board mat-sidenav-container{width:100%;height:100%}scrumboard-board mat-sidenav-container mat-sidenav{width:320px!important;min-width:320px!important;max-width:320px!important}scrumboard-board mat-sidenav-container #board{display:flex;flex-direction:column!important;height:100%}scrumboard-board mat-sidenav-container #board>.header{position:relative;min-height:96px;background-image:none;z-index:49}scrumboard-board mat-sidenav-container #board>.header .header-content .header-boards-button{margin:0}scrumboard-board mat-sidenav-container #board>.header .header-content .header-board-name{font-size:16px}scrumboard-board mat-sidenav-container #board>.header .header-content .header-board-name .board-subscribe{margin-right:8px}scrumboard-board mat-sidenav-container #board>.header .header-content .header-board-name .editable-buttons mat-icon{color:#fff!important}scrumboard-board mat-sidenav-container #board>.header .header-content .right-side>.mat-button:last-child{margin-right:0}scrumboard-board mat-sidenav-container #board #board-selector{position:absolute;top:96px;right:0;left:0;height:192px;z-index:48;padding:24px;opacity:1}scrumboard-board mat-sidenav-container #board #board-selector .board-list-item{width:128px;height:192px;padding:16px;cursor:pointer;position:relative}scrumboard-board mat-sidenav-container #board #board-selector .board-list-item .board-name{text-align:center;padding:16px 0}scrumboard-board mat-sidenav-container #board #board-selector .board-list-item .selected-icon{position:absolute;top:0;left:50%;width:32px;height:32px;margin-left:-16px;border-radius:50%;text-align:center;color:#fff}scrumboard-board mat-sidenav-container #board #board-selector .board-list-item .selected-icon i{line-height:32px!important}scrumboard-board mat-sidenav-container #board #board-selector .board-list-item.add-new-board{opacity:.6}scrumboard-board mat-sidenav-container #board .board-content-wrapper{position:relative}scrumboard-board mat-sidenav-container #board .board-content-wrapper .board-content{position:absolute;top:0;right:0;bottom:0;left:0;height:100%;overflow-y:hidden;overflow-x:auto;-webkit-overflow-scrolling:touch}scrumboard-board mat-sidenav-container #board .board-content-wrapper .board-content .list-sortable-placeholder{background:rgba(0,0,0,.06);margin-right:24px}scrumboard-board mat-sidenav-container #board .board-content-wrapper .board-content .new-list-wrapper{width:344px;min-width:344px;max-width:344px;padding-right:24px}"],encapsulation:2,data:{animation:H.a}}),t})(),resolve:{board:I}},{path:"**",redirectTo:"boards"}];let Hc=(()=>{class t{}return t.\u0275mod=L.Tb({type:t}),t.\u0275inj=L.Sb({factory:function(c){return new(c||t)},providers:[F,I],imports:[[e.k.forChild(Sc),o.c,i.b,n.e,s.c,d.e,m.d,l.b,b.c,u.d,f.b,g.b,r.s,p.c,h.b,x.b,v.d,w.a,y.a,y.d]]}),t})()}}]);
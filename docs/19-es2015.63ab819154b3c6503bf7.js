(window.webpackJsonp=window.webpackJsonp||[]).push([[19],{B9zo:function(t,c,e){"use strict";e.d(c,"a",(function(){return s}));var a=e("XNiG"),n=e("1G5W"),i=e("fXoL"),o=e("h2q7");let s=(()=>{class t{constructor(t,c,e){this._elementRef=t,this._fuseMediaMatchService=c,this._renderer=e,this._unsubscribeAll=new a.a}ngOnInit(){this._parent=this._renderer.parentNode(this._elementRef.nativeElement),this._parent&&(this._grandParent=this._renderer.parentNode(this._parent),this._fuseMediaMatchService.onMediaChange.pipe(Object(n.a)(this._unsubscribeAll)).subscribe(t=>{"xs"===t?this._removeClass():this._addClass()}))}ngOnDestroy(){this._parent&&(this._removeClass(),this._unsubscribeAll.next(),this._unsubscribeAll.complete())}_addClass(){this._renderer.addClass(this._grandParent,"inner-scroll")}_removeClass(){this._renderer.removeClass(this._grandParent,"inner-scroll")}}return t.\u0275fac=function(c){return new(c||t)(i.Vb(i.l),i.Vb(o.a),i.Vb(i.I))},t.\u0275dir=i.Qb({type:t,selectors:[["",8,"inner-scroll"]]}),t})()},NulH:function(t,c,e){"use strict";e.r(c),e.d(c,"ContactsModule",(function(){return Dt}));var a=e("tyNb"),n=e("bTqV"),i=e("bSwM"),o=e("FKr1"),s=e("iadO"),r=e("kmnG"),l=e("NFeN"),b=e("qFsG"),d=e("STbY"),m=e("+0xr"),u=e("/t3+"),h=e("5HBU"),f=e("LPQX"),p=e("3Pt+"),g=e("XNiG"),x=e("1G5W"),C=e("Kj3r"),v=e("/uUt"),w=e("PVWW"),_=e("0IaG"),S=e("jD4G");class y{constructor(t){this.id=t.id||S.a.generateGUID(),this.name=t.name||"",this.lastName=t.lastName||"",this.avatar=t.avatar||"assets/images/avatars/profile.jpg",this.nickname=t.nickname||"",this.company=t.company||"",this.jobTitle=t.jobTitle||"",this.email=t.email||"",this.phone=t.phone||"",this.address=t.address||"",this.birthday=t.birthday||"",this.notes=t.notes||""}}var k=e("fXoL"),D=e("XiUz"),U=e("EwFO"),A=e("ofXK");function H(t,c){if(1&t){const t=k.cc();k.bc(0,"button",29),k.jc("click",(function(c){k.Kc(t);const e=k.nc();return e.matDialogRef.close(["delete",e.contactForm])})),k.Uc(1," DELETE "),k.ac()}}function O(t,c){if(1&t){const t=k.cc();k.bc(0,"button",30),k.jc("click",(function(c){k.Kc(t);const e=k.nc();return e.matDialogRef.close(e.contactForm)})),k.Uc(1," ADD "),k.ac()}if(2&t){const t=k.nc();k.uc("disabled",t.contactForm.invalid)}}function P(t,c){if(1&t){const t=k.cc();k.bc(0,"button",30),k.jc("click",(function(c){k.Kc(t);const e=k.nc();return e.matDialogRef.close(["save",e.contactForm])})),k.Uc(1," SAVE "),k.ac()}if(2&t){const t=k.nc();k.uc("disabled",t.contactForm.invalid)}}let M=(()=>{class t{constructor(t,c,e){this.matDialogRef=t,this._data=c,this._formBuilder=e,this.action=c.action,"edit"===this.action?(this.dialogTitle="Edit Contact",this.contact=c.contact):(this.dialogTitle="New Contact",this.contact=new y({})),this.contactForm=this.createContactForm()}createContactForm(){return this._formBuilder.group({id:[this.contact.id],name:[this.contact.name],lastName:[this.contact.lastName],avatar:[this.contact.avatar],nickname:[this.contact.nickname],company:[this.contact.company],jobTitle:[this.contact.jobTitle],email:[this.contact.email],phone:[this.contact.phone],address:[this.contact.address],birthday:[this.contact.birthday],notes:[this.contact.notes]})}}return t.\u0275fac=function(c){return new(c||t)(k.Vb(_.f),k.Vb(_.a),k.Vb(p.c))},t.\u0275cmp=k.Pb({type:t,selectors:[["contacts-contact-form-dialog"]],decls:87,vars:11,consts:[[1,"dialog-content-wrapper"],["matDialogTitle","",1,"mat-accent","m-0"],["fxLayout","row","fxLayoutAlign","space-between center"],[1,"title","dialog-title"],["mat-icon-button","","aria-label","Close dialog",3,"click"],["fxLayout","column","fxLayoutAlign","center center",1,"toolbar-bottom","py-16"],[1,"avatar","contact-avatar","huge","m-0",3,"src","alt"],[1,"contact-name","mt-8"],["mat-dialog-content","","fusePerfectScrollbar","",1,"p-24","pb-0","m-0"],[3,"formGroup"],["fxLayout","row","fxLayoutAlign","start start"],["appearance","outline","fxFlex",""],["matSuffix","",1,"secondary-text"],["name","name","formControlName","name","matInput","","required",""],["name","lastName","formControlName","lastName","matInput",""],["name","nickname","formControlName","nickname","matInput",""],["formControlName","phone","matInput",""],["name","email","formControlName","email","matInput","","type","email"],["name","company","formControlName","company","matInput",""],["name","jobTitle","formControlName","jobTitle","matInput",""],["matInput","","name","birthday","formControlName","birthday",3,"matDatepicker"],["matSuffix","",3,"for"],["birthdayDatePicker",""],["name","address","formControlName","address","matInput",""],["fxLayout","row","fxLayoutAlign","start start",1,"textarea-wrapper"],["name","notes","formControlName","notes","matInput","","type","text","max-rows","4"],["mat-dialog-actions","","fxLayout","row","fxLayoutAlign","end center",1,"m-0","p-16"],["mat-button","","class","mr-8","aria-label","Delete","matTooltip","Delete",3,"click",4,"ngIf"],["mat-button","","class","save-button","aria-label","SAVE",3,"disabled","click",4,"ngIf"],["mat-button","","aria-label","Delete","matTooltip","Delete",1,"mr-8",3,"click"],["mat-button","","aria-label","SAVE",1,"save-button",3,"disabled","click"]],template:function(t,c){if(1&t&&(k.bc(0,"div",0),k.bc(1,"mat-toolbar",1),k.bc(2,"mat-toolbar-row",2),k.bc(3,"span",3),k.Uc(4),k.ac(),k.bc(5,"button",4),k.jc("click",(function(t){return c.matDialogRef.close()})),k.bc(6,"mat-icon"),k.Uc(7,"close"),k.ac(),k.ac(),k.ac(),k.bc(8,"mat-toolbar-row",5),k.Wb(9,"img",6),k.bc(10,"div",7),k.Uc(11),k.ac(),k.ac(),k.ac(),k.bc(12,"div",8),k.bc(13,"form",9),k.bc(14,"div",10),k.bc(15,"mat-form-field",11),k.bc(16,"mat-label"),k.Uc(17,"Name"),k.ac(),k.bc(18,"mat-icon",12),k.Uc(19,"account_circle"),k.ac(),k.Wb(20,"input",13),k.ac(),k.ac(),k.bc(21,"div",10),k.bc(22,"mat-form-field",11),k.bc(23,"mat-label"),k.Uc(24,"Lastname"),k.ac(),k.bc(25,"mat-icon",12),k.Uc(26,"account_circle"),k.ac(),k.Wb(27,"input",14),k.ac(),k.ac(),k.bc(28,"div",10),k.bc(29,"mat-form-field",11),k.bc(30,"mat-label"),k.Uc(31,"Nickname"),k.ac(),k.bc(32,"mat-icon",12),k.Uc(33,"star"),k.ac(),k.Wb(34,"input",15),k.ac(),k.ac(),k.bc(35,"div",10),k.bc(36,"mat-form-field",11),k.bc(37,"mat-label"),k.Uc(38,"Phone number"),k.ac(),k.bc(39,"mat-icon",12),k.Uc(40,"phone"),k.ac(),k.Wb(41,"input",16),k.ac(),k.ac(),k.bc(42,"div",10),k.bc(43,"mat-form-field",11),k.bc(44,"mat-label"),k.Uc(45,"Email"),k.ac(),k.bc(46,"mat-icon",12),k.Uc(47,"email"),k.ac(),k.Wb(48,"input",17),k.ac(),k.ac(),k.bc(49,"div",10),k.bc(50,"mat-form-field",11),k.bc(51,"mat-label"),k.Uc(52,"Company"),k.ac(),k.bc(53,"mat-icon",12),k.Uc(54,"domain"),k.ac(),k.Wb(55,"input",18),k.ac(),k.ac(),k.bc(56,"div",10),k.bc(57,"mat-form-field",11),k.bc(58,"mat-label"),k.Uc(59,"Job title"),k.ac(),k.bc(60,"mat-icon",12),k.Uc(61,"work"),k.ac(),k.Wb(62,"input",19),k.ac(),k.ac(),k.bc(63,"div",10),k.bc(64,"mat-form-field",11),k.bc(65,"mat-label"),k.Uc(66,"Birthday"),k.ac(),k.Wb(67,"input",20),k.Wb(68,"mat-datepicker-toggle",21),k.Wb(69,"mat-datepicker",null,22),k.ac(),k.ac(),k.bc(71,"div",10),k.bc(72,"mat-form-field",11),k.bc(73,"mat-label"),k.Uc(74,"Address"),k.ac(),k.bc(75,"mat-icon",12),k.Uc(76,"home"),k.ac(),k.Wb(77,"input",23),k.ac(),k.ac(),k.bc(78,"div",24),k.bc(79,"mat-form-field",11),k.bc(80,"mat-label"),k.Uc(81,"Notes"),k.ac(),k.Wb(82,"textarea",25),k.ac(),k.ac(),k.ac(),k.ac(),k.bc(83,"div",26),k.Sc(84,H,2,0,"button",27),k.Sc(85,O,2,1,"button",28),k.Sc(86,P,2,1,"button",28),k.ac(),k.ac()),2&t){const t=k.Gc(70);k.Hb(4),k.Vc(c.dialogTitle),k.Hb(5),k.uc("src",c.contact.avatar,k.Mc)("alt",c.contact.name),k.Hb(2),k.Xc("",c.contact.name," ",c.contact.lastName,""),k.Hb(2),k.uc("formGroup",c.contactForm),k.Hb(54),k.uc("matDatepicker",t),k.Hb(1),k.uc("for",t),k.Hb(16),k.uc("ngIf","edit"===c.action),k.Hb(1),k.uc("ngIf","edit"!==c.action),k.Hb(1),k.uc("ngIf","edit"===c.action)}},directives:[u.a,u.c,D.e,D.d,n.b,l.a,U.a,p.w,p.p,p.h,r.b,D.b,r.f,r.h,p.b,b.b,p.o,p.f,p.u,s.b,s.d,s.a,A.t],styles:["@media screen and (max-width:599px){.contact-form-dialog{width:100%}}@media screen and (min-width:600px){.contact-form-dialog{width:400px}}.contact-form-dialog .mat-dialog-container{padding:0}.contact-form-dialog .mat-dialog-container .mat-toolbar{flex:1 0 auto;min-height:0}.contact-form-dialog .mat-dialog-container .toolbar-bottom{height:auto}.contact-form-dialog .dialog-content-wrapper{max-height:85vh;display:flex;flex-direction:column}"],encapsulation:2}),t})();var j=e("2Vo4"),I=e("tk/3");let L=(()=>{class t{constructor(t){this._httpClient=t,this.selectedContacts=[],this.onContactsChanged=new j.a([]),this.onSelectedContactsChanged=new j.a([]),this.onUserDataChanged=new j.a([]),this.onSearchTextChanged=new g.a,this.onFilterChanged=new g.a}resolve(t,c){return new Promise((t,c)=>{Promise.all([this.getContacts(),this.getUserData()]).then(([c])=>{this.onSearchTextChanged.subscribe(t=>{this.searchText=t,this.getContacts()}),this.onFilterChanged.subscribe(t=>{this.filterBy=t,this.getContacts()}),t()},c)})}getContacts(){return new Promise((t,c)=>{this._httpClient.get("api/contacts-contacts").subscribe(c=>{this.contacts=c,"starred"===this.filterBy&&(this.contacts=this.contacts.filter(t=>this.user.starred.includes(t.id))),"frequent"===this.filterBy&&(this.contacts=this.contacts.filter(t=>this.user.frequentContacts.includes(t.id))),this.searchText&&""!==this.searchText&&(this.contacts=S.a.filterArrayByString(this.contacts,this.searchText)),this.contacts=this.contacts.map(t=>new y(t)),this.onContactsChanged.next(this.contacts),t(this.contacts)},c)})}getUserData(){return new Promise((t,c)=>{this._httpClient.get("api/contacts-user/5725a6802d10e277a0f35724").subscribe(c=>{this.user=c,this.onUserDataChanged.next(this.user),t(this.user)},c)})}toggleSelectedContact(t){if(this.selectedContacts.length>0){const c=this.selectedContacts.indexOf(t);if(-1!==c)return this.selectedContacts.splice(c,1),void this.onSelectedContactsChanged.next(this.selectedContacts)}this.selectedContacts.push(t),this.onSelectedContactsChanged.next(this.selectedContacts)}toggleSelectAll(){this.selectedContacts.length>0?this.deselectContacts():this.selectContacts()}selectContacts(t,c){this.selectedContacts=[],void 0!==t&&void 0!==c||(this.selectedContacts=[],this.contacts.map(t=>{this.selectedContacts.push(t.id)})),this.onSelectedContactsChanged.next(this.selectedContacts)}updateContact(t){return new Promise((c,e)=>{this._httpClient.post("api/contacts-contacts/"+t.id,Object.assign({},t)).subscribe(t=>{this.getContacts(),c(t)})})}updateUserData(t){return new Promise((c,e)=>{this._httpClient.post("api/contacts-user/"+this.user.id,Object.assign({},t)).subscribe(t=>{this.getUserData(),this.getContacts(),c(t)})})}deselectContacts(){this.selectedContacts=[],this.onSelectedContactsChanged.next(this.selectedContacts)}deleteContact(t){const c=this.contacts.indexOf(t);this.contacts.splice(c,1),this.onContactsChanged.next(this.contacts)}deleteSelectedContacts(){for(const t of this.selectedContacts){const c=this.contacts.find(c=>c.id===t),e=this.contacts.indexOf(c);this.contacts.splice(e,1)}this.onContactsChanged.next(this.contacts),this.deselectContacts()}}return t.\u0275fac=function(c){return new(c||t)(k.fc(I.b))},t.\u0275prov=k.Rb({token:t,factory:t.\u0275fac}),t})();var F=e("HX77"),T=e("B9zo"),N=e("znSr"),W=e("fE3o");const R=function(t){return{"active accent":t}};let V=(()=>{class t{constructor(t){this._contactsService=t,this._unsubscribeAll=new g.a}ngOnInit(){this.filterBy=this._contactsService.filterBy||"all",this._contactsService.onUserDataChanged.pipe(Object(x.a)(this._unsubscribeAll)).subscribe(t=>{this.user=t})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}changeFilter(t){this.filterBy=t,this._contactsService.onFilterChanged.next(this.filterBy)}}return t.\u0275fac=function(c){return new(c||t)(k.Vb(L))},t.\u0275cmp=k.Pb({type:t,selectors:[["contacts-main-sidebar"]],decls:20,vars:12,consts:[[1,"sidebar-content"],[1,"card"],["fxLayout","row","fxLayoutAlign","start center",1,"header","p-24"],[1,"avatar","mr-16",3,"src","alt"],[1,"h5"],["fusePerfectScrollbar","",1,"content","py-16"],[1,"nav","material2"],["aria-label","inbox",1,"nav-item"],["matRipple","",1,"nav-link",3,"ngClass","click"],[1,"title"],["aria-label","frequently contacted",1,"nav-item",3,"click"],["matRipple","",1,"nav-link",3,"ngClass"],["aria-label","starred",1,"nav-item",3,"click"]],template:function(t,c){1&t&&(k.bc(0,"div",0),k.bc(1,"div",1),k.bc(2,"div",2),k.Wb(3,"img",3),k.bc(4,"span",4),k.Uc(5),k.ac(),k.ac(),k.bc(6,"div",5),k.bc(7,"div",6),k.bc(8,"div",7),k.bc(9,"a",8),k.jc("click",(function(t){return c.changeFilter("all")})),k.bc(10,"span",9),k.Uc(11,"All Contacts"),k.ac(),k.ac(),k.ac(),k.bc(12,"div",10),k.jc("click",(function(t){return c.changeFilter("frequent")})),k.bc(13,"a",11),k.bc(14,"div",9),k.Uc(15,"Freequently contacted"),k.ac(),k.ac(),k.ac(),k.bc(16,"div",12),k.jc("click",(function(t){return c.changeFilter("starred")})),k.bc(17,"a",11),k.bc(18,"div",9),k.Uc(19,"Starred Contacts"),k.ac(),k.ac(),k.ac(),k.ac(),k.ac(),k.ac(),k.ac()),2&t&&(k.Hb(3),k.uc("src",c.user.avatar,k.Mc)("alt",c.user.name),k.Hb(2),k.Vc(c.user.name),k.Hb(4),k.uc("ngClass",k.xc(6,R,"all"===c.filterBy)),k.Hb(4),k.uc("ngClass",k.xc(8,R,"frequent"===c.filterBy)),k.Hb(4),k.uc("ngClass",k.xc(10,R,"starred"===c.filterBy)))},directives:[D.e,D.d,U.a,o.r,A.q,N.a],styles:["[_nghost-%COMP%]{display:flex;flex-direction:column;flex:1 0 auto;height:100%}[_nghost-%COMP%]   .sidebar-content[_ngcontent-%COMP%]{display:flex;flex-direction:column;padding:0}@media screen and (min-width:960px){[_nghost-%COMP%]   .sidebar-content[_ngcontent-%COMP%]{padding:24px 4px 24px 24px}}[_nghost-%COMP%]   .sidebar-content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{display:flex;flex-direction:column;flex:0 1 auto;padding:0;border-radius:8px}@media screen and (min-width:960px){[_nghost-%COMP%]   .sidebar-content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%]{box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 1px 3px 0 rgba(0,0,0,.12)}}[_nghost-%COMP%]   .sidebar-content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%] > .header[_ngcontent-%COMP%]{flex:0 1 auto;border-bottom:1px solid rgba(0,0,0,.12)}[_nghost-%COMP%]   .sidebar-content[_ngcontent-%COMP%]   .card[_ngcontent-%COMP%] > .content[_ngcontent-%COMP%]{flex:0 1 auto}"]}),t})();var B=e("0EQZ"),$=e("2nsM");const G=["dialogContent"];function E(t,c){1&t&&k.Wb(0,"mat-header-cell")}function K(t,c){if(1&t){const t=k.cc();k.bc(0,"mat-cell"),k.bc(1,"mat-checkbox",20),k.jc("ngModelChange",(function(e){k.Kc(t);const a=c.$implicit;return k.nc().checkboxes[a.id]=e}))("ngModelChange",(function(e){k.Kc(t);const a=c.$implicit;return k.nc().onSelectedChange(a.id)}))("click",(function(c){return k.Kc(t),c.stopPropagation()})),k.ac(),k.ac()}if(2&t){const t=c.$implicit,e=k.nc();k.Hb(1),k.uc("ngModel",e.checkboxes[t.id])}}function q(t,c){1&t&&k.Wb(0,"mat-header-cell")}function X(t,c){if(1&t&&k.Wb(0,"img",22),2&t){const t=k.nc().$implicit;k.uc("alt",t.name)("src",t.avatar,k.Mc)}}function Z(t,c){if(1&t&&(k.bc(0,"mat-cell"),k.Sc(1,X,1,2,"img",21),k.ac()),2&t){const t=c.$implicit;k.Hb(1),k.uc("ngIf",t.avatar)}}function Y(t,c){1&t&&(k.bc(0,"mat-header-cell"),k.Uc(1,"Name"),k.ac())}function z(t,c){if(1&t&&(k.bc(0,"mat-cell"),k.bc(1,"p",23),k.Uc(2),k.ac(),k.ac()),2&t){const t=c.$implicit;k.Hb(2),k.Xc("",t.name," ",t.lastName,"")}}function J(t,c){1&t&&(k.bc(0,"mat-header-cell",24),k.Uc(1,"Email"),k.ac())}function Q(t,c){if(1&t&&(k.bc(0,"mat-cell",24),k.bc(1,"p",25),k.Uc(2),k.ac(),k.ac()),2&t){const t=c.$implicit;k.Hb(2),k.Wc(" ",t.email," ")}}function tt(t,c){1&t&&(k.bc(0,"mat-header-cell",26),k.Uc(1,"Phone"),k.ac())}function ct(t,c){if(1&t&&(k.bc(0,"mat-cell",26),k.bc(1,"p",27),k.Uc(2),k.ac(),k.ac()),2&t){const t=c.$implicit;k.Hb(2),k.Wc(" ",t.phone," ")}}function et(t,c){1&t&&(k.bc(0,"mat-header-cell",28),k.Uc(1,"Job title"),k.ac())}function at(t,c){if(1&t&&(k.bc(0,"mat-cell",28),k.bc(1,"p",29),k.Uc(2),k.ac(),k.ac()),2&t){const t=c.$implicit;k.Hb(2),k.Wc(" ",t.jobTitle," ")}}function nt(t,c){1&t&&(k.bc(0,"mat-header-cell",28),k.Uc(1,"Company"),k.ac())}function it(t,c){if(1&t&&(k.bc(0,"mat-cell",28),k.bc(1,"p",30),k.Uc(2),k.ac(),k.ac()),2&t){const t=c.$implicit;k.Hb(2),k.Wc(" ",t.company," ")}}function ot(t,c){1&t&&k.Wb(0,"mat-header-cell")}function st(t,c){1&t&&(k.bc(0,"mat-icon",39),k.Uc(1,"star"),k.ac())}function rt(t,c){1&t&&(k.bc(0,"mat-icon",36),k.Uc(1,"star_border"),k.ac())}function lt(t,c){if(1&t){const t=k.cc();k.bc(0,"mat-cell"),k.bc(1,"div",31),k.bc(2,"button",32),k.jc("click",(function(e){k.Kc(t);const a=c.$implicit,n=k.nc();return e.stopPropagation(),n.toggleStar(a.id)})),k.Sc(3,st,2,0,"mat-icon",33),k.Sc(4,rt,2,0,"mat-icon",34),k.ac(),k.bc(5,"button",35),k.jc("click",(function(c){return k.Kc(t),c.stopPropagation()})),k.bc(6,"mat-icon",36),k.Uc(7,"more_vert"),k.ac(),k.ac(),k.bc(8,"mat-menu",null,37),k.bc(10,"button",38),k.jc("click",(function(e){k.Kc(t);const a=c.$implicit;return k.nc().deleteContact(a)})),k.bc(11,"mat-icon"),k.Uc(12,"delete"),k.ac(),k.bc(13,"span"),k.Uc(14,"Remove"),k.ac(),k.ac(),k.ac(),k.ac(),k.ac()}if(2&t){const t=c.$implicit,e=k.Gc(9),a=k.nc();k.Hb(3),k.uc("ngIf",a.user.starred.includes(t.id)),k.Hb(1),k.uc("ngIf",!a.user.starred.includes(t.id)),k.Hb(1),k.uc("matMenuTriggerFor",e)}}function bt(t,c){1&t&&k.Wb(0,"mat-header-row")}const dt=function(t){return{"accent-50":t}},mt=function(){return{y:"100%"}},ut=function(t){return{value:"*",params:t}};function ht(t,c){if(1&t){const t=k.cc();k.bc(0,"mat-row",40),k.jc("click",(function(e){k.Kc(t);const a=c.$implicit;return k.nc().editContact(a)})),k.ac()}if(2&t){const t=c.$implicit,e=k.nc();k.uc("ngClass",k.xc(2,dt,e.checkboxes[t.id]))("@animate",k.xc(5,ut,k.wc(4,mt)))}}const ft=function(){return{value:"50"}};let pt=(()=>{class t{constructor(t,c){this._contactsService=t,this._matDialog=c,this.displayedColumns=["checkbox","avatar","name","email","phone","jobTitle","buttons"],this._unsubscribeAll=new g.a}ngOnInit(){this.dataSource=new gt(this._contactsService),this._contactsService.onContactsChanged.pipe(Object(x.a)(this._unsubscribeAll)).subscribe(t=>{this.contacts=t,this.checkboxes={},t.map(t=>{this.checkboxes[t.id]=!1})}),this._contactsService.onSelectedContactsChanged.pipe(Object(x.a)(this._unsubscribeAll)).subscribe(t=>{for(const c in this.checkboxes)this.checkboxes.hasOwnProperty(c)&&(this.checkboxes[c]=t.includes(c));this.selectedContacts=t}),this._contactsService.onUserDataChanged.pipe(Object(x.a)(this._unsubscribeAll)).subscribe(t=>{this.user=t}),this._contactsService.onFilterChanged.pipe(Object(x.a)(this._unsubscribeAll)).subscribe(()=>{this._contactsService.deselectContacts()})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}editContact(t){this.dialogRef=this._matDialog.open(M,{panelClass:"contact-form-dialog",data:{contact:t,action:"edit"}}),this.dialogRef.afterClosed().subscribe(c=>{if(!c)return;const e=c[1];switch(c[0]){case"save":this._contactsService.updateContact(e.getRawValue());break;case"delete":this.deleteContact(t)}})}deleteContact(t){this.confirmDialogRef=this._matDialog.open($.a,{disableClose:!1}),this.confirmDialogRef.componentInstance.confirmMessage="Are you sure you want to delete?",this.confirmDialogRef.afterClosed().subscribe(c=>{c&&this._contactsService.deleteContact(t),this.confirmDialogRef=null})}onSelectedChange(t){this._contactsService.toggleSelectedContact(t)}toggleStar(t){this.user.starred.includes(t)?this.user.starred.splice(this.user.starred.indexOf(t),1):this.user.starred.push(t),this._contactsService.updateUserData(this.user)}}return t.\u0275fac=function(c){return new(c||t)(k.Vb(L),k.Vb(_.b))},t.\u0275cmp=k.Pb({type:t,selectors:[["contacts-contact-list"]],viewQuery:function(t,c){var e;1&t&&k.Zc(G,!0),2&t&&k.Fc(e=k.kc())&&(c.dialogContent=e.first)},decls:28,vars:5,consts:[[3,"dataSource"],["table",""],["matColumnDef","checkbox"],[4,"matHeaderCellDef"],[4,"matCellDef"],["matColumnDef","avatar"],["matColumnDef","name"],["matColumnDef","email"],["fxHide","","fxShow.gt-sm","",4,"matHeaderCellDef"],["fxHide","","fxShow.gt-sm","",4,"matCellDef"],["matColumnDef","phone"],["fxHide","","fxShow.gt-md","",4,"matHeaderCellDef"],["fxHide","","fxShow.gt-md","",4,"matCellDef"],["matColumnDef","jobTitle"],["fxHide","","fxShow.gt-lg","",4,"matHeaderCellDef"],["fxHide","","fxShow.gt-lg","",4,"matCellDef"],["matColumnDef","company"],["matColumnDef","buttons"],[4,"matHeaderRowDef"],["class","contact",3,"ngClass","click",4,"matRowDef","matRowDefColumns"],[3,"ngModel","ngModelChange","click"],["class","avatar",3,"alt","src",4,"ngIf"],[1,"avatar",3,"alt","src"],[1,"text-truncate","font-weight-600"],["fxHide","","fxShow.gt-sm",""],[1,"email","text-truncate"],["fxHide","","fxShow.gt-md",""],[1,"phone","text-truncate"],["fxHide","","fxShow.gt-lg",""],[1,"job-title","text-truncate"],[1,"company","text-truncate"],["fxFlex","row","fxLayoutAlign","end center"],["mat-icon-button","","aria-label","Toggle star",3,"click"],["class","amber-fg",4,"ngIf"],["class","secondary-text",4,"ngIf"],["mat-icon-button","","aria-label","More",3,"matMenuTriggerFor","click"],[1,"secondary-text"],["moreMenu","matMenu"],["mat-menu-item","","aria-label","remove",3,"click"],[1,"amber-fg"],[1,"contact",3,"ngClass","click"]],template:function(t,c){1&t&&(k.bc(0,"mat-table",0,1),k.Zb(2,2),k.Sc(3,E,1,0,"mat-header-cell",3),k.Sc(4,K,2,1,"mat-cell",4),k.Yb(),k.Zb(5,5),k.Sc(6,q,1,0,"mat-header-cell",3),k.Sc(7,Z,2,1,"mat-cell",4),k.Yb(),k.Zb(8,6),k.Sc(9,Y,2,0,"mat-header-cell",3),k.Sc(10,z,3,2,"mat-cell",4),k.Yb(),k.Zb(11,7),k.Sc(12,J,2,0,"mat-header-cell",8),k.Sc(13,Q,3,1,"mat-cell",9),k.Yb(),k.Zb(14,10),k.Sc(15,tt,2,0,"mat-header-cell",11),k.Sc(16,ct,3,1,"mat-cell",12),k.Yb(),k.Zb(17,13),k.Sc(18,et,2,0,"mat-header-cell",14),k.Sc(19,at,3,1,"mat-cell",15),k.Yb(),k.Zb(20,16),k.Sc(21,nt,2,0,"mat-header-cell",14),k.Sc(22,it,3,1,"mat-cell",15),k.Yb(),k.Zb(23,17),k.Sc(24,ot,1,0,"mat-header-cell",3),k.Sc(25,lt,15,3,"mat-cell",4),k.Yb(),k.Sc(26,bt,1,0,"mat-header-row",18),k.Sc(27,ht,1,7,"mat-row",19),k.ac()),2&t&&(k.uc("dataSource",c.dataSource)("@animateStagger",k.wc(4,ft)),k.Hb(26),k.uc("matHeaderRowDef",c.displayedColumns),k.Hb(1),k.uc("matRowDefColumns",c.displayedColumns))},directives:[m.j,m.c,m.e,m.b,m.g,m.i,m.d,m.a,i.a,p.o,p.r,A.t,N.b,D.b,D.d,n.b,d.c,l.a,d.d,d.a,m.f,m.h,A.q,N.a],styles:["contacts-contact-list{display:flex;flex:1 1 auto;width:100%}contacts-contact-list .mat-table{width:100%;background:transparent;box-shadow:none}contacts-contact-list .mat-table .mat-column-checkbox{flex:0 1 64px;padding-left:18px}contacts-contact-list .mat-table .mat-column-avatar{flex:0 1 64px}contacts-contact-list .mat-table .mat-column-buttons{flex:0 1 80px}contacts-contact-list .mat-table .mat-row{position:relative;cursor:pointer;padding:8px}contacts-contact-list .mat-table .mat-row .mat-cell{min-width:0}contacts-contact-list .mat-table .mat-row .mat-cell.mat-column-detail-button{flex:0 1 auto;padding:0 24px 0 0}@media screen and (min-width:1280px){contacts-contact-list .mat-table .mat-row .mat-cell.mat-column-detail-button{display:none}}#add-contact-button{position:absolute;bottom:12px;right:12px;padding:0;z-index:99}@media screen and (max-width:599px){#add-contact-button{position:-webkit-sticky;position:sticky;top:calc(100vh - 120px);bottom:auto}}"],encapsulation:2,data:{animation:w.a}}),t})();class gt extends B.b{constructor(t){super(),this._contactsService=t}connect(){return this._contactsService.onContactsChanged}disconnect(){}}let xt=(()=>{class t{constructor(t,c){this._contactsService=t,this._matDialog=c,this._unsubscribeAll=new g.a}ngOnInit(){this._contactsService.onSelectedContactsChanged.pipe(Object(x.a)(this._unsubscribeAll)).subscribe(t=>{this.selectedContacts=t,setTimeout(()=>{this.hasSelectedContacts=t.length>0,this.isIndeterminate=t.length!==this._contactsService.contacts.length&&t.length>0},0)})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}selectAll(){this._contactsService.selectContacts()}deselectAll(){this._contactsService.deselectContacts()}deleteSelectedContacts(){this.confirmDialogRef=this._matDialog.open($.a,{disableClose:!1}),this.confirmDialogRef.componentInstance.confirmMessage="Are you sure you want to delete all selected contacts?",this.confirmDialogRef.afterClosed().subscribe(t=>{t&&this._contactsService.deleteSelectedContacts(),this.confirmDialogRef=null})}}return t.\u0275fac=function(c){return new(c||t)(k.Vb(L),k.Vb(_.b))},t.\u0275cmp=k.Pb({type:t,selectors:[["selected-bar"]],decls:27,vars:2,consts:[["fxFlex","","fxLayout","row","fxLayoutAlign","start center",1,"p-24"],["fxFlex","0 1 auto","fxFlex.gt-sm","220px",1,"close-button-wrapper",3,"click"],["mat-button","","fxLayout","row","fxLayoutAlign","start center",1,"p-8"],[1,"mr-8"],[1,"text-uppercase"],["fxFlex","","fxLayout","row","fxLayoutAlign","end center","fxLayoutAlign.gt-sm","space-between center"],[1,"selected-contacts-count"],[1,"mr-4"],["mat-icon-button","",3,"matMenuTriggerFor"],["selectMenu","matMenu"],["mat-menu-item","",3,"click"],[1,"multi-select-actions"],["mat-icon-button","","aria-label","delete selected",3,"click"]],template:function(t,c){if(1&t&&(k.bc(0,"div",0),k.bc(1,"div",1),k.jc("click",(function(t){return c.deselectAll()})),k.bc(2,"button",2),k.bc(3,"mat-icon",3),k.Uc(4,"arrow_back"),k.ac(),k.bc(5,"span",4),k.Uc(6,"Back"),k.ac(),k.ac(),k.ac(),k.bc(7,"div",5),k.bc(8,"div"),k.bc(9,"span",6),k.bc(10,"span",7),k.Uc(11),k.ac(),k.bc(12,"span"),k.Uc(13,"selected"),k.ac(),k.ac(),k.bc(14,"button",8),k.bc(15,"mat-icon"),k.Uc(16,"arrow_drop_down"),k.ac(),k.ac(),k.bc(17,"mat-menu",null,9),k.bc(19,"button",10),k.jc("click",(function(t){return c.selectAll()})),k.Uc(20,"Select all"),k.ac(),k.bc(21,"button",10),k.jc("click",(function(t){return c.deselectAll()})),k.Uc(22,"Deselect all"),k.ac(),k.ac(),k.ac(),k.bc(23,"div",11),k.bc(24,"button",12),k.jc("click",(function(t){return c.deleteSelectedContacts()})),k.bc(25,"mat-icon"),k.Uc(26,"delete"),k.ac(),k.ac(),k.ac(),k.ac(),k.ac()),2&t){const t=k.Gc(18);k.Hb(11),k.Vc(c.selectedContacts.length),k.Hb(3),k.uc("matMenuTriggerFor",t)}},directives:[D.b,D.e,D.d,n.b,l.a,d.c,d.d,d.a],styles:["[_nghost-%COMP%]{flex:1;position:absolute;top:0;right:0;left:0;height:120px;z-index:99}"]}),t})();function Ct(t,c){1&t&&k.Wb(0,"selected-bar",17),2&t&&k.uc("@slideInTop",void 0)}const vt=function(){return{delay:"50ms",scale:"0.2"}},wt=function(t){return{value:"*",params:t}},_t=function(){return{delay:"100ms",x:"-25px"}},St=function(){return{value:"*"}},yt=function(){return{delay:"300ms",scale:".2"}},kt=[{path:"**",component:(()=>{class t{constructor(t,c,e){this._contactsService=t,this._fuseSidebarService=c,this._matDialog=e,this.searchInput=new p.d(""),this._unsubscribeAll=new g.a}ngOnInit(){this._contactsService.onSelectedContactsChanged.pipe(Object(x.a)(this._unsubscribeAll)).subscribe(t=>{this.hasSelectedContacts=t.length>0}),this.searchInput.valueChanges.pipe(Object(x.a)(this._unsubscribeAll),Object(C.a)(300),Object(v.a)()).subscribe(t=>{this._contactsService.onSearchTextChanged.next(t)})}ngOnDestroy(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}newContact(){this.dialogRef=this._matDialog.open(M,{panelClass:"contact-form-dialog",data:{action:"new"}}),this.dialogRef.afterClosed().subscribe(t=>{t&&this._contactsService.updateContact(t.getRawValue())})}toggleSidebar(t){this._fuseSidebarService.getSidebar(t).toggleOpen()}}return t.\u0275fac=function(c){return new(c||t)(k.Vb(L),k.Vb(F.a),k.Vb(_.b))},t.\u0275cmp=k.Pb({type:t,selectors:[["contacts"]],decls:28,vars:16,consts:[["id","contacts",1,"page-layout","simple","left-sidebar","inner-sidebar","inner-scroll"],["fxLayout","column","fxLayoutAlign","start","fxLayout.gt-xs","row","fxLayoutAlign.gt-xs","space-between center",1,"header","accent","p-16","p-sm-24"],["fxLayout","row","fxLayoutAlign","start center"],["mat-icon-button","","fxHide.gt-sm","",1,"sidebar-toggle","mr-12",3,"click"],["fxLayout","row","fxLayoutAlign","start center",1,"logo"],[1,"logo-icon","mr-16"],[1,"logo-text","h1"],["fxLayout","row","fxLayoutAlign","center center","fxFlex","",1,"ml-sm-32"],[1,"search-wrapper","mt-16","mt-sm-0"],["fxFlex","","fxLayout","row","fxLayoutAlign","start center",1,"search"],["placeholder","Search for a contact",3,"formControl"],["class","accent-600",4,"ngIf"],[1,"content"],["name","contacts-main-sidebar","position","left","lockedOpen","gt-sm",1,"sidebar"],["fusePerfectScrollbar","",1,"content"],["fusePerfectScrollbar","",1,"center","p-24","pb-56","pr-sm-92"],["mat-fab","","id","add-contact-button","aria-label","add contact",1,"accent",3,"click"],[1,"accent-600"]],template:function(t,c){1&t&&(k.bc(0,"div",0),k.bc(1,"div",1),k.bc(2,"div",2),k.bc(3,"button",3),k.jc("click",(function(t){return c.toggleSidebar("contacts-main-sidebar")})),k.bc(4,"mat-icon"),k.Uc(5,"menu"),k.ac(),k.ac(),k.bc(6,"div",4),k.bc(7,"mat-icon",5),k.Uc(8,"account_box "),k.ac(),k.bc(9,"span",6),k.Uc(10," Contacts "),k.ac(),k.ac(),k.ac(),k.bc(11,"div",7),k.bc(12,"div",8),k.bc(13,"div",9),k.bc(14,"mat-icon"),k.Uc(15,"search"),k.ac(),k.Wb(16,"input",10),k.ac(),k.ac(),k.ac(),k.ac(),k.Sc(17,Ct,1,1,"selected-bar",11),k.bc(18,"div",12),k.bc(19,"fuse-sidebar",13),k.bc(20,"div",14),k.Wb(21,"contacts-main-sidebar"),k.ac(),k.ac(),k.bc(22,"div",15),k.bc(23,"div",12),k.Wb(24,"contacts-contact-list"),k.ac(),k.ac(),k.ac(),k.ac(),k.bc(25,"button",16),k.jc("click",(function(t){return c.newContact()})),k.bc(26,"mat-icon"),k.Uc(27,"person_add"),k.ac(),k.ac()),2&t&&(k.Hb(7),k.uc("@animate",k.xc(7,wt,k.wc(6,vt))),k.Hb(2),k.uc("@animate",k.xc(10,wt,k.wc(9,_t))),k.Hb(7),k.uc("formControl",c.searchInput),k.Hb(1),k.uc("ngIf",c.hasSelectedContacts),k.Hb(4),k.uc("@animate",k.wc(12,St)),k.Hb(4),k.uc("@animate",k.xc(14,wt,k.wc(13,yt))))},directives:[T.a,D.e,D.d,n.b,N.b,l.a,D.b,p.b,p.o,p.e,A.t,W.a,U.a,V,pt,xt],styles:["#contacts .header .search-wrapper{width:100%;max-width:480px;border-radius:28px;overflow:hidden;box-shadow:0 2px 1px -1px rgba(0,0,0,.2),0 1px 1px 0 rgba(0,0,0,.14),0 1px 3px 0 rgba(0,0,0,.12)}#contacts .header .search-wrapper .search{width:100%;height:48px;line-height:48px;padding:0 18px}#contacts .header .search-wrapper .search input{width:100%;height:48px;min-height:48px;max-height:48px;padding:0 16px;border:none;outline:none}#contacts .content{overflow:hidden}#contacts .content .sidebar:not(.locked-open){background:#fff}"],encapsulation:2,data:{animation:w.a}}),t})(),resolve:{contacts:L}}];let Dt=(()=>{class t{}return t.\u0275mod=k.Tb({type:t}),t.\u0275inj=k.Sb({factory:function(c){return new(c||t)},providers:[L],imports:[[a.k.forChild(kt),n.c,i.b,s.c,r.d,l.b,b.c,d.b,o.s,m.k,u.b,h.a,f.a,f.i]]}),t})()}}]);
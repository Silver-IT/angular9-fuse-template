function _slicedToArray(t,e){return _arrayWithHoles(t)||_iterableToArrayLimit(t,e)||_unsupportedIterableToArray(t,e)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _unsupportedIterableToArray(t,e){if(t){if("string"==typeof t)return _arrayLikeToArray(t,e);var a=Object.prototype.toString.call(t).slice(8,-1);return"Object"===a&&t.constructor&&(a=t.constructor.name),"Map"===a||"Set"===a?Array.from(t):"Arguments"===a||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(a)?_arrayLikeToArray(t,e):void 0}}function _arrayLikeToArray(t,e){(null==e||e>t.length)&&(e=t.length);for(var a=0,c=new Array(e);a<e;a++)c[a]=t[a];return c}function _iterableToArrayLimit(t,e){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(t)){var a=[],c=!0,n=!1,i=void 0;try{for(var s,o=t[Symbol.iterator]();!(c=(s=o.next()).done)&&(a.push(s.value),!e||a.length!==e);c=!0);}catch(r){n=!0,i=r}finally{try{c||null==o.return||o.return()}finally{if(n)throw i}}return a}}function _arrayWithHoles(t){if(Array.isArray(t))return t}function _classCallCheck(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}function _defineProperties(t,e){for(var a=0;a<e.length;a++){var c=e[a];c.enumerable=c.enumerable||!1,c.configurable=!0,"value"in c&&(c.writable=!0),Object.defineProperty(t,c.key,c)}}function _createClass(t,e,a){return e&&_defineProperties(t.prototype,e),a&&_defineProperties(t,a),t}(window.webpackJsonp=window.webpackJsonp||[]).push([[15],{B9zo:function(t,e,a){"use strict";a.d(e,"a",(function(){return o}));var c=a("XNiG"),n=a("1G5W"),i=a("fXoL"),s=a("h2q7"),o=function(){var t=function(){function t(e,a,n){_classCallCheck(this,t),this._elementRef=e,this._fuseMediaMatchService=a,this._renderer=n,this._unsubscribeAll=new c.a}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this._parent=this._renderer.parentNode(this._elementRef.nativeElement),this._parent&&(this._grandParent=this._renderer.parentNode(this._parent),this._fuseMediaMatchService.onMediaChange.pipe(Object(n.a)(this._unsubscribeAll)).subscribe((function(e){"xs"===e?t._removeClass():t._addClass()})))}},{key:"ngOnDestroy",value:function(){this._parent&&(this._removeClass(),this._unsubscribeAll.next(),this._unsubscribeAll.complete())}},{key:"_addClass",value:function(){this._renderer.addClass(this._grandParent,"inner-scroll")}},{key:"_removeClass",value:function(){this._renderer.removeClass(this._grandParent,"inner-scroll")}}]),t}();return t.\u0275fac=function(e){return new(e||t)(i.Vb(i.l),i.Vb(s.a),i.Vb(i.I))},t.\u0275dir=i.Qb({type:t,selectors:[["",8,"inner-scroll"]]}),t}()},nImp:function(t,e,a){"use strict";a.r(e),a.d(e,"ChatModule",(function(){return Vt}));var c,n,i,s,o,r,u=a("tyNb"),l=a("bTqV"),h=(a("R1ws"),a("FKr1")),d=a("fXoL"),b=((c=function t(){_classCallCheck(this,t)}).\u0275mod=d.Tb({type:c}),c.\u0275inj=d.Sb({factory:function(t){return new(t||c)},imports:[[h.j],h.j]}),c),f=a("kmnG"),v=a("NFeN"),m=a("qFsG"),p=a("MutI"),g=a("STbY"),x=a("QibW"),w=a("XhcP"),y=a("/t3+"),_=a("5HBU"),S=a("2Vo4"),C=a("XNiG"),k=a("jD4G"),L=a("tk/3"),A=((n=function(){function t(e){_classCallCheck(this,t),this._httpClient=e,this.onChatSelected=new S.a(null),this.onContactSelected=new S.a(null),this.onChatsUpdated=new C.a,this.onUserUpdated=new C.a,this.onLeftSidenavViewChanged=new C.a,this.onRightSidenavViewChanged=new C.a}return _createClass(t,[{key:"resolve",value:function(t,e){var a=this;return new Promise((function(t,e){Promise.all([a.getContacts(),a.getChats(),a.getUser()]).then((function(e){var c=_slicedToArray(e,3),n=c[0],i=c[1],s=c[2];a.contacts=n,a.chats=i,a.user=s,t()}),e)}))}},{key:"getChat",value:function(t){var e=this,a=this.user.chatList.find((function(e){return e.contactId===t}));if(a)return new Promise((function(c,n){e._httpClient.get("api/chat-chats/"+a.id).subscribe((function(a){var c=a,n=e.contacts.find((function(e){return e.id===t}));e.onChatSelected.next(Object.assign({},{chatId:c.id,dialog:c.dialog,contact:n}))}),n)}));this.createNewChat(t).then((function(a){e.getChat(t)}))}},{key:"createNewChat",value:function(t){var e=this;return new Promise((function(a,c){var n=e.contacts.find((function(e){return e.id===t})),i=k.a.generateGUID(),s={id:i,dialog:[]};e.user.chatList.push({contactId:t,id:i,lastMessageTime:"2017-02-18T10:30:18.931Z",name:n.name,unread:null}),e._httpClient.post("api/chat-chats",Object.assign({},s)).subscribe((function(t){e._httpClient.post("api/chat-user/"+e.user.id,e.user).subscribe((function(t){e.getUser().then((function(t){e.onUserUpdated.next(t),a(t)}))}))}),c)}))}},{key:"selectContact",value:function(t){this.onContactSelected.next(t)}},{key:"setUserStatus",value:function(t){this.user.status=t}},{key:"updateUserData",value:function(t){var e=this;this._httpClient.post("api/chat-user/"+this.user.id,t).subscribe((function(a){e.user=t}))}},{key:"updateDialog",value:function(t,e){var a=this;return new Promise((function(c,n){a._httpClient.post("api/chat-chats/"+t,{id:t,dialog:e}).subscribe((function(t){c(t)}),n)}))}},{key:"getContacts",value:function(){var t=this;return new Promise((function(e,a){t._httpClient.get("api/chat-contacts").subscribe((function(t){e(t)}),a)}))}},{key:"getChats",value:function(){var t=this;return new Promise((function(e,a){t._httpClient.get("api/chat-chats").subscribe((function(t){e(t)}),a)}))}},{key:"getUser",value:function(){var t=this;return new Promise((function(e,a){t._httpClient.get("api/chat-user").subscribe((function(t){e(t[0])}),a)}))}}]),t}()).\u0275fac=function(t){return new(t||n)(d.fc(L.b))},n.\u0275prov=d.Rb({token:n,factory:n.\u0275fac}),n),I=a("1G5W"),O=a("PVWW"),M=a("B9zo"),U=a("h2q7"),H=((i=function(){function t(){_classCallCheck(this,t),this.sidenavInstances=[]}return _createClass(t,[{key:"setSidenav",value:function(t,e){this.sidenavInstances[t]=e}},{key:"getSidenav",value:function(t){return this.sidenavInstances[t]}}]),t}()).\u0275fac=function(t){return new(t||i)},i.\u0275prov=d.Rb({token:i,factory:i.\u0275fac,providedIn:"root"}),i),F=a("pD6V"),T=((o=function(){function t(e,a,c,n){_classCallCheck(this,t),this._fuseMatchMediaService=e,this._fuseMatSidenavHelperService=a,this._matSidenav=c,this._mediaObserver=n,this.isLockedOpen=!0,this._unsubscribeAll=new C.a}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this._fuseMatSidenavHelperService.setSidenav(this.fuseMatSidenavHelper,this._matSidenav),this.matIsLockedOpen&&this._mediaObserver.isActive(this.matIsLockedOpen)?(this.isLockedOpen=!0,this._matSidenav.mode="side",this._matSidenav.toggle(!0)):(this.isLockedOpen=!1,this._matSidenav.mode="over",this._matSidenav.toggle(!1)),this._fuseMatchMediaService.onMediaChange.pipe(Object(I.a)(this._unsubscribeAll)).subscribe((function(){t.matIsLockedOpen&&t._mediaObserver.isActive(t.matIsLockedOpen)?(t.isLockedOpen=!0,t._matSidenav.mode="side",t._matSidenav.toggle(!0)):(t.isLockedOpen=!1,t._matSidenav.mode="over",t._matSidenav.toggle(!1))}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}}]),t}()).\u0275fac=function(t){return new(t||o)(d.Vb(U.a),d.Vb(H),d.Vb(w.a),d.Vb(F.g))},o.\u0275dir=d.Qb({type:o,selectors:[["","fuseMatSidenavHelper",""]],hostVars:2,hostBindings:function(t,e){2&t&&d.Lb("mat-is-locked-open",e.isLockedOpen)},inputs:{fuseMatSidenavHelper:"fuseMatSidenavHelper",matIsLockedOpen:"matIsLockedOpen"}}),o),V=((s=function(){function t(e){_classCallCheck(this,t),this._fuseMatSidenavHelperService=e}return _createClass(t,[{key:"onClick",value:function(){this._fuseMatSidenavHelperService.getSidenav(this.fuseMatSidenavToggler).toggle()}}]),t}()).\u0275fac=function(t){return new(t||s)(d.Vb(H))},s.\u0275dir=d.Qb({type:s,selectors:[["","fuseMatSidenavToggler",""]],hostBindings:function(t,e){1&t&&d.jc("click",(function(t){return e.onClick()}))},inputs:{fuseMatSidenavToggler:"fuseMatSidenavToggler"}}),s),j=a("ofXK"),W=a("XiUz"),P=a("znSr"),D=a("3Pt+"),R=a("EwFO"),G=a("uREc"),z=((r=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"transform",value:function(t,e,a){return k.a.filterArrayByString(t,e)}}]),t}()).\u0275fac=function(t){return new(t||r)},r.\u0275pipe=d.Ub({name:"filter",type:r,pure:!0}),r),B=a("vVcS");function q(t,e){1&t&&(d.bc(0,"div",27),d.Uc(1," Chats "),d.ac())}function N(t,e){if(1&t&&(d.bc(0,"div",39),d.Uc(1),d.ac()),2&t){var a=d.nc().$implicit;d.Hb(1),d.Vc(a.unread)}}var X=function(){return{y:"100%"}},$=function(t){return{value:"*",params:t}};function E(t,e){if(1&t){var a=d.cc();d.bc(0,"button",28),d.jc("click",(function(t){d.Kc(a);var c=e.$implicit;return d.nc(2).getChat(c.contactId)})),d.bc(1,"div",8),d.bc(2,"div",29),d.Wb(3,"img",30),d.oc(4,"getById"),d.oc(5,"getById"),d.Wb(6,"mat-icon",31),d.oc(7,"getById"),d.ac(),d.bc(8,"div",32),d.bc(9,"div",33),d.bc(10,"div",34),d.Uc(11),d.oc(12,"getById"),d.ac(),d.bc(13,"div",35),d.Uc(14),d.ac(),d.ac(),d.bc(15,"div",36),d.bc(16,"div",37),d.Uc(17),d.oc(18,"date"),d.ac(),d.Sc(19,N,2,1,"div",38),d.ac(),d.ac(),d.ac(),d.ac()}if(2&t){var c=e.$implicit,n=d.nc(2);d.uc("@animate",d.xc(27,$,d.wc(26,X))),d.Hb(3),d.vc("alt",d.rc(5,12,n.contacts,c.contactId,"name")),d.uc("src",d.rc(4,8,n.contacts,c.contactId,"avatar"),d.Mc),d.Hb(3),d.uc("ngClass",d.rc(7,16,n.contacts,c.contactId,"status")),d.Hb(5),d.Vc(d.rc(12,20,n.contacts,c.contactId,"name")),d.Hb(3),d.Vc(c.lastMessage),d.Hb(3),d.Wc(" ",d.pc(18,24,c.lastMessageTime)," "),d.Hb(2),d.uc("ngIf",c.unread)}}function K(t,e){1&t&&(d.bc(0,"div",27),d.Uc(1," Contacts "),d.ac())}function Q(t,e){if(1&t){var a=d.cc();d.bc(0,"button",40),d.jc("click",(function(t){d.Kc(a);var c=e.$implicit;return d.nc(2).getChat(c.id)})),d.bc(1,"div",8),d.bc(2,"div",41),d.Wb(3,"img",42),d.Wb(4,"mat-icon",31),d.ac(),d.bc(5,"div",43),d.bc(6,"div",34),d.Uc(7),d.ac(),d.bc(8,"p",44),d.Uc(9),d.ac(),d.ac(),d.ac(),d.ac()}if(2&t){var c=e.$implicit;d.uc("@animate",d.xc(7,$,d.wc(6,X))),d.Hb(3),d.vc("src",c.avatar,d.Mc),d.vc("alt",c.name),d.Hb(1),d.uc("ngClass",c.status),d.Hb(3),d.Vc(c.name),d.Hb(2),d.Vc(c.mood)}}function Z(t,e){1&t&&(d.bc(0,"div",45),d.Uc(1," No results.. "),d.ac())}var J=function(){return{value:"50"}};function Y(t,e){if(1&t&&(d.bc(0,"div"),d.bc(1,"div",21),d.Sc(2,q,2,0,"div",22),d.oc(3,"filter"),d.Sc(4,E,20,29,"button",23),d.oc(5,"filter"),d.ac(),d.bc(6,"div",24),d.Sc(7,K,2,0,"div",22),d.oc(8,"filter"),d.Sc(9,Q,10,9,"button",25),d.oc(10,"filter"),d.ac(),d.Sc(11,Z,2,0,"div",26),d.oc(12,"filter"),d.ac()),2&t){var a=d.nc();d.uc("@animateStagger",d.wc(21,J)),d.Hb(2),d.uc("ngIf",d.qc(3,6,a.user.chatList,a.searchText).length>0),d.Hb(2),d.uc("ngForOf",d.qc(5,9,a.user.chatList,a.searchText)),d.Hb(3),d.uc("ngIf",d.qc(8,12,a.contacts,a.searchText).length>0),d.Hb(2),d.uc("ngForOf",d.qc(10,15,a.contacts,a.searchText)),d.Hb(2),d.uc("ngIf",0===d.qc(12,18,a.contacts,a.searchText).length)}}var tt,et,at=((tt=function(){function t(e,a,c){_classCallCheck(this,t),this._chatService=e,this._fuseMatSidenavHelperService=a,this._mediaObserver=c,this.chatSearch={name:""},this.searchText="",this._unsubscribeAll=new C.a}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.user=this._chatService.user,this.chats=this._chatService.chats,this.contacts=this._chatService.contacts,this._chatService.onChatsUpdated.pipe(Object(I.a)(this._unsubscribeAll)).subscribe((function(e){t.chats=e})),this._chatService.onUserUpdated.pipe(Object(I.a)(this._unsubscribeAll)).subscribe((function(e){t.user=e}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"getChat",value:function(t){this._chatService.getChat(t),this._mediaObserver.isActive("gt-md")||this._fuseMatSidenavHelperService.getSidenav("chat-left-sidenav").toggle()}},{key:"setUserStatus",value:function(t){this._chatService.setUserStatus(t)}},{key:"changeLeftSidenavView",value:function(t){this._chatService.onLeftSidenavViewChanged.next(t)}},{key:"logout",value:function(){console.log("logout triggered")}}]),t}()).\u0275fac=function(t){return new(t||tt)(d.Vb(A),d.Vb(H),d.Vb(F.g))},tt.\u0275cmp=d.Pb({type:tt,selectors:[["chat-chats-sidenav"]],decls:46,vars:6,consts:[[1,"sidenav-header"],["fxLayout","row","fxLayoutAlign","space-between center"],[1,"avatar-wrapper"],[1,"mat-avatar","avatar",3,"src","alt","click"],[1,"s-16","status",3,"ngClass","matMenuTriggerFor"],["id","user-status-menu"],["userStatusMenu","matMenu"],["mat-menu-item","",3,"click"],["fxLayout","row","fxLayoutAlign","start center"],[1,"s-16","status","online"],[1,"s-16","status","away"],[1,"s-16","status","do-not-disturb"],[1,"s-16","status","offline"],["mat-icon-button","","aria-label","more",3,"matMenuTriggerFor"],["userMenu","matMenu"],["fxFlex","","fxLayout","row","fxLayoutAlign","start center",1,"search-wrapper"],["fxFlex","","fxLayout","row","fxLayoutAlign","start center",1,"search"],[1,"s-16","secondary-text"],["type","text","placeholder","Search or start new chat","fxFlex","",3,"ngModel","ngModelChange"],["fusePerfectScrollbar","","fxFlex","",1,"sidenav-content"],[4,"fuseIfOnDom"],["fxLayout","column",1,"chat-list"],["matSubheader","",4,"ngIf"],["mat-button","","class","contact","ngClass","{'unread':contact.unread}",3,"click",4,"ngFor","ngForOf"],["fxLayout","column",1,"contact-list"],["mat-button","","class","contact",3,"click",4,"ngFor","ngForOf"],["class","no-results-message",4,"ngIf"],["matSubheader",""],["mat-button","","ngClass","{'unread':contact.unread}",1,"contact",3,"click"],["fxFlex","0 1 auto","fxLayoutAlign","center center",1,"avatar-wrapper"],[1,"avatar",3,"src","alt"],[1,"s-16","status",3,"ngClass"],["fxLayout","row","fxFlex",""],["fxFlex","","fxLayout","column","fxLayoutAlign","center start",1,"pr-4"],[1,"contact-name"],[1,"contact-last-message"],["fxLayout","column","fxLayoutAlign","start end"],[1,"contact-last-message-time"],["class","mt-4 unread-message-count accent",4,"ngIf"],[1,"mt-4","unread-message-count","accent"],["mat-button","",1,"contact",3,"click"],["fxFlex","0 1 auto",1,"avatar-wrapper"],[1,"mat-avatar","avatar",3,"src","alt"],["fxLayout","column","fxLayoutAlign","start start"],[1,"contact-mood"],[1,"no-results-message"]],template:function(t,e){if(1&t&&(d.bc(0,"div",0),d.bc(1,"mat-toolbar"),d.bc(2,"mat-toolbar-row",1),d.bc(3,"div",2),d.bc(4,"img",3),d.jc("click",(function(t){return e.changeLeftSidenavView("user")})),d.ac(),d.Wb(5,"mat-icon",4),d.bc(6,"mat-menu",5,6),d.bc(8,"button",7),d.jc("click",(function(t){return e.setUserStatus("online")})),d.bc(9,"div",8),d.Wb(10,"mat-icon",9),d.bc(11,"span"),d.Uc(12,"Online"),d.ac(),d.ac(),d.ac(),d.bc(13,"button",7),d.jc("click",(function(t){return e.setUserStatus("away")})),d.bc(14,"div",8),d.Wb(15,"mat-icon",10),d.bc(16,"span"),d.Uc(17,"Away"),d.ac(),d.ac(),d.ac(),d.bc(18,"button",7),d.jc("click",(function(t){return e.setUserStatus("do-not-disturb")})),d.bc(19,"div",8),d.Wb(20,"mat-icon",11),d.bc(21,"span"),d.Uc(22,"Do not disturb"),d.ac(),d.ac(),d.ac(),d.bc(23,"button",7),d.jc("click",(function(t){return e.setUserStatus("offline")})),d.bc(24,"div",8),d.Wb(25,"mat-icon",12),d.bc(26,"span"),d.Uc(27,"Offline"),d.ac(),d.ac(),d.ac(),d.ac(),d.ac(),d.bc(28,"div"),d.bc(29,"button",13),d.bc(30,"mat-icon"),d.Uc(31,"more_vert"),d.ac(),d.ac(),d.bc(32,"mat-menu",null,14),d.bc(34,"button",7),d.jc("click",(function(t){return e.changeLeftSidenavView("user")})),d.Uc(35," Profile "),d.ac(),d.bc(36,"button",7),d.jc("click",(function(t){return e.logout()})),d.Uc(37," Logout "),d.ac(),d.ac(),d.ac(),d.ac(),d.bc(38,"mat-toolbar-row"),d.bc(39,"div",15),d.bc(40,"div",16),d.bc(41,"mat-icon",17),d.Uc(42,"search"),d.ac(),d.bc(43,"input",18),d.jc("ngModelChange",(function(t){return e.searchText=t})),d.ac(),d.ac(),d.ac(),d.ac(),d.ac(),d.ac(),d.bc(44,"div",19),d.Sc(45,Y,13,22,"div",20),d.ac()),2&t){var a=d.Gc(7),c=d.Gc(33);d.Hb(4),d.vc("src",e.user.avatar,d.Mc),d.vc("alt",e.user.name),d.Hb(1),d.uc("ngClass",e.user.status)("matMenuTriggerFor",a),d.Hb(24),d.uc("matMenuTriggerFor",c),d.Hb(14),d.uc("ngModel",e.searchText)}},directives:[y.a,y.c,W.e,W.d,v.a,j.q,P.a,g.c,g.d,g.a,l.b,W.b,D.b,D.o,D.r,R.a,G.a,j.t,j.s,p.f],pipes:[z,B.a,j.f],styles:["chat-chats-sidenav{display:flex;flex:1;flex-direction:column}chat-chats-sidenav .sidenav-header mat-toolbar{border-bottom:1px solid}chat-chats-sidenav .sidenav-header mat-toolbar .avatar-wrapper .avatar,chat-chats-sidenav .sidenav-header mat-toolbar .avatar-wrapper .status{cursor:pointer}chat-chats-sidenav .sidenav-header mat-toolbar .search{height:36px;line-height:36px;padding:8px;font-size:13px;border-radius:18px;border:1px solid;overflow:hidden}chat-chats-sidenav .sidenav-header mat-toolbar .search .mat-icon{margin:0}chat-chats-sidenav .sidenav-header mat-toolbar .search input{padding:0 12px 0 8px;height:36px;border:none}chat-chats-sidenav .sidenav-content{overflow:auto;-webkit-overflow-scrolling:touch}chat-chats-sidenav .sidenav-content .chat-list .mat-subheader,chat-chats-sidenav .sidenav-content .contact-list .mat-subheader{padding-left:16px;font-size:20px;font-weight:300;height:88px;line-height:88px}chat-chats-sidenav .sidenav-content .chat-list .contact,chat-chats-sidenav .sidenav-content .contact-list .contact{white-space:normal;text-align:left;letter-spacing:.01em;min-height:88px;border-bottom:1px solid;padding:16px;font-weight:400;border-radius:0}chat-chats-sidenav .sidenav-content .chat-list .contact .avatar-wrapper .avatar,chat-chats-sidenav .sidenav-content .contact-list .contact .avatar-wrapper .avatar{margin-right:16px}chat-chats-sidenav .sidenav-content .chat-list .contact .contact-name,chat-chats-sidenav .sidenav-content .contact-list .contact .contact-name{font-size:16px;white-space:nowrap;text-overflow:ellipsis}chat-chats-sidenav .sidenav-content .chat-list .contact .contact-last-message,chat-chats-sidenav .sidenav-content .contact-list .contact .contact-last-message{line-height:normal;margin-top:0}chat-chats-sidenav .sidenav-content .chat-list .contact .contact-last-message-time,chat-chats-sidenav .sidenav-content .contact-list .contact .contact-last-message-time{font-size:12px;margin-top:4px}chat-chats-sidenav .sidenav-content .chat-list .contact .contact-mood,chat-chats-sidenav .sidenav-content .contact-list .contact .contact-mood{line-height:normal;margin:0}chat-chats-sidenav .sidenav-content .chat-list .contact .unread-message-count,chat-chats-sidenav .sidenav-content .contact-list .contact .unread-message-count{font-size:12px;border-radius:50%;text-align:center;width:20px;height:20px;line-height:20px}chat-chats-sidenav .sidenav-content .no-results-message{position:absolute;width:100%;height:88px;padding:16px;font-size:15px;font-weight:400}"],encapsulation:2,data:{animation:O.a}}),tt),ct=a("Kj3r"),nt=a("/uUt"),it=((et=function(){function t(e){_classCallCheck(this,t),this._chatService=e,this._unsubscribeAll=new C.a}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.user=this._chatService.user,this.userForm=new D.g({mood:new D.d(this.user.mood),status:new D.d(this.user.status)}),this.userForm.valueChanges.pipe(Object(I.a)(this._unsubscribeAll),Object(ct.a)(500),Object(nt.a)()).subscribe((function(e){t.user.mood=e.mood,t.user.status=e.status,t._chatService.updateUserData(t.user)}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"changeLeftSidenavView",value:function(t){this._chatService.onLeftSidenavViewChanged.next(t)}}]),t}()).\u0275fac=function(t){return new(t||et)(d.Vb(A))},et.\u0275cmp=d.Pb({type:et,selectors:[["chat-user-sidenav"]],decls:37,vars:4,consts:[[1,"sidenav-header"],[1,"accent"],["fxLayout","row","fxLayoutAlign","space-between center"],["mat-icon-button","","aria-label","back",3,"click"],["fxLayout","column","fxLayoutAlign","center center",1,"toolbar-bottom"],[1,"avatar","user-avatar","huge",3,"src","alt"],[1,"user-name","my-8"],["fxFlex","",1,"sidenav-content","py-32","px-24"],["fxLayout","column",3,"formGroup"],["appearance","outline","fxFlex","0 1 auto"],["matInput","","name","mood","formControlName","mood","rows","3"],["formControlName","status","fxLayout","column"],["value","online",1,"py-8"],["fxLayout","row","fxLayoutAlign","start center"],[1,"status","online","mr-8"],[1,"mat-h4","m-0"],["value","away",1,"py-8"],[1,"status","away","mr-8"],["value","do-not-disturb",1,"py-8"],[1,"status","do-not-disturb","mr-8"],["value","offline",1,"py-8"],[1,"status","offline","mr-8"]],template:function(t,e){1&t&&(d.bc(0,"div",0),d.bc(1,"mat-toolbar",1),d.bc(2,"mat-toolbar-row",2),d.bc(3,"button",3),d.jc("click",(function(t){return e.changeLeftSidenavView("chats")})),d.bc(4,"mat-icon"),d.Uc(5,"arrow_back"),d.ac(),d.ac(),d.ac(),d.bc(6,"mat-toolbar-row",4),d.Wb(7,"img",5),d.bc(8,"div",6),d.Uc(9),d.ac(),d.ac(),d.ac(),d.ac(),d.bc(10,"div",7),d.bc(11,"form",8),d.bc(12,"mat-form-field",9),d.bc(13,"mat-label"),d.Uc(14,"Mood"),d.ac(),d.Wb(15,"textarea",10),d.ac(),d.bc(16,"mat-radio-group",11),d.bc(17,"mat-radio-button",12),d.bc(18,"div",13),d.Wb(19,"mat-icon",14),d.bc(20,"span",15),d.Uc(21,"Online"),d.ac(),d.ac(),d.ac(),d.bc(22,"mat-radio-button",16),d.bc(23,"div",13),d.Wb(24,"mat-icon",17),d.bc(25,"span",15),d.Uc(26,"Away"),d.ac(),d.ac(),d.ac(),d.bc(27,"mat-radio-button",18),d.bc(28,"div",13),d.Wb(29,"mat-icon",19),d.bc(30,"span",15),d.Uc(31,"Do not disturb"),d.ac(),d.ac(),d.ac(),d.bc(32,"mat-radio-button",20),d.bc(33,"div",13),d.Wb(34,"mat-icon",21),d.bc(35,"span",15),d.Uc(36,"Offline"),d.ac(),d.ac(),d.ac(),d.ac(),d.ac(),d.ac()),2&t&&(d.Hb(7),d.vc("alt",e.user.name),d.uc("src",e.user.avatar,d.Mc),d.Hb(2),d.Vc(e.user.name),d.Hb(2),d.uc("formGroup",e.userForm))},directives:[y.a,y.c,W.e,W.d,l.b,v.a,W.b,D.w,D.p,D.h,f.b,f.f,m.b,D.b,D.o,D.f,x.b,x.a],styles:["chat-user-sidenav{display:flex;flex:1;flex-direction:column;overflow:auto;-webkit-overflow-scrolling:touch}chat-user-sidenav mat-toolbar .toolbar-bottom{height:180px}"],encapsulation:2}),et);function st(t,e){1&t&&d.Wb(0,"chat-chats-sidenav",3),2&t&&d.uc("@slideInRight",void 0)}function ot(t,e){1&t&&d.Wb(0,"chat-user-sidenav",4),2&t&&d.uc("@slideInLeft",void 0)}var rt,ut=((rt=function(){function t(e){_classCallCheck(this,t),this._chatService=e,this.view="chats",this._unsubscribeAll=new C.a}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this._chatService.onLeftSidenavViewChanged.pipe(Object(I.a)(this._unsubscribeAll)).subscribe((function(e){t.view=e}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}}]),t}()).\u0275fac=function(t){return new(t||rt)(d.Vb(A))},rt.\u0275cmp=d.Pb({type:rt,selectors:[["chat-left-sidenav"]],decls:3,vars:3,consts:[[1,"views",3,"ngSwitch"],["class","view",4,"ngSwitchCase"],["class","view","fusePerfectScrollbar","",4,"ngSwitchCase"],[1,"view"],["fusePerfectScrollbar","",1,"view"]],template:function(t,e){1&t&&(d.bc(0,"div",0),d.Sc(1,st,1,1,"chat-chats-sidenav",1),d.Sc(2,ot,1,1,"chat-user-sidenav",2),d.ac()),2&t&&(d.uc("ngSwitch",e.view),d.Hb(1),d.uc("ngSwitchCase","chats"),d.Hb(1),d.uc("ngSwitchCase","user"))},directives:[j.x,j.y,at,it,R.a],styles:["chat-left-sidenav,chat-left-sidenav .views{display:flex;flex-direction:column;height:100%}chat-left-sidenav .views .view{position:absolute;height:100%;bottom:0;left:0;right:0;top:0}"],encapsulation:2,data:{animation:O.a}}),rt);function lt(t,e){if(1&t&&(d.bc(0,"div",2),d.bc(1,"mat-toolbar",3),d.bc(2,"mat-toolbar-row",4),d.bc(3,"div"),d.Uc(4,"Contact Info"),d.ac(),d.bc(5,"button",5),d.bc(6,"mat-icon"),d.Uc(7,"close"),d.ac(),d.ac(),d.ac(),d.bc(8,"mat-toolbar-row",6),d.Wb(9,"img",7),d.bc(10,"div",8),d.Uc(11),d.ac(),d.ac(),d.ac(),d.ac()),2&t){var a=d.nc();d.Hb(9),d.vc("alt",a.contact.name),d.uc("src",a.contact.avatar,d.Mc),d.Hb(2),d.Vc(a.contact.name)}}function ht(t,e){if(1&t&&(d.bc(0,"div",9),d.bc(1,"div",10),d.Uc(2,"Mood"),d.ac(),d.bc(3,"div"),d.Uc(4),d.ac(),d.ac()),2&t){var a=d.nc();d.Hb(4),d.Vc(a.contact.mood)}}var dt,bt=((dt=function(){function t(e){_classCallCheck(this,t),this._chatService=e,this._unsubscribeAll=new C.a}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this._chatService.onContactSelected.pipe(Object(I.a)(this._unsubscribeAll)).subscribe((function(e){t.contact=e}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}}]),t}()).\u0275fac=function(t){return new(t||dt)(d.Vb(A))},dt.\u0275cmp=d.Pb({type:dt,selectors:[["chat-contact-sidenav"]],decls:2,vars:2,consts:[["class","sidenav-header",4,"ngIf"],["class","sidenav-content py-32 px-24","fxFlex","","fxLayout","column",4,"ngIf"],[1,"sidenav-header"],[1,"accent"],["fxLayout","row","fxLayoutAlign","space-between center"],["mat-icon-button","","fuseMatSidenavToggler","chat-right-sidenav","aria-label","close"],["fxLayout","column","fxLayoutAlign","center center",1,"toolbar-bottom"],[1,"avatar","contact-avatar","huge",3,"src","alt"],[1,"contact-name","my-8"],["fxFlex","","fxLayout","column",1,"sidenav-content","py-32","px-24"],[1,"secondary-text","mb-8"]],template:function(t,e){1&t&&(d.Sc(0,lt,12,3,"div",0),d.Sc(1,ht,5,1,"div",1)),2&t&&(d.uc("ngIf",e.contact),d.Hb(1),d.uc("ngIf",e.contact))},directives:[j.t,y.a,y.c,W.e,W.d,l.b,V,v.a,W.b],styles:["chat-contact-sidenav{display:flex;flex:1;flex-direction:column;overflow:auto;-webkit-overflow-scrolling:touch}chat-contact-sidenav mat-toolbar .toolbar-bottom{height:180px}"],encapsulation:2}),dt);function ft(t,e){1&t&&d.Wb(0,"chat-contact-sidenav",2),2&t&&d.uc("@slideInRight",void 0)}var vt,mt,pt=((vt=function(){function t(e){_classCallCheck(this,t),this._chatService=e,this.view="contact",this._unsubscribeAll=new C.a}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this._chatService.onRightSidenavViewChanged.pipe(Object(I.a)(this._unsubscribeAll)).subscribe((function(e){t.view=e}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}}]),t}()).\u0275fac=function(t){return new(t||vt)(d.Vb(A))},vt.\u0275cmp=d.Pb({type:vt,selectors:[["chat-right-sidenav"]],decls:2,vars:2,consts:[[1,"views",3,"ngSwitch"],["class","view","fusePerfectScrollbar","",4,"ngSwitchCase"],["fusePerfectScrollbar","",1,"view"]],template:function(t,e){1&t&&(d.bc(0,"div",0),d.Sc(1,ft,1,1,"chat-contact-sidenav",1),d.ac()),2&t&&(d.uc("ngSwitch",e.view),d.Hb(1),d.uc("ngSwitchCase","contact"))},directives:[j.x,j.y,bt,R.a],styles:["chat-right-sidenav,chat-right-sidenav .views{display:flex;flex-direction:column;height:100%}chat-right-sidenav .views .view{position:absolute;height:100%;bottom:0;left:0;right:0;top:0}"],encapsulation:2,data:{animation:O.a}}),vt),gt=function(){return{delay:"50ms",scale:"0.2"}},xt=function(t){return{value:"*",params:t}},wt=function(){return{delay:"100ms",y:"25px"}},yt=function(){return{delay:"200ms",y:"50px"}},_t=((mt=function t(){_classCallCheck(this,t)}).\u0275fac=function(t){return new(t||mt)},mt.\u0275cmp=d.Pb({type:mt,selectors:[["chat-start"]],decls:10,vars:12,consts:[["fxFlex","","fxLayout","column","fxLayoutAlign","center center"],["fxLayout","column","fxLayoutAlign","center center",1,"big-circle","app-logo"],[1,"s-64","s-md-128","mat-accent"],[1,"app-title","mt-48","mb-8"],["fxHide","","fxShow.gt-md","",1,"app-message"],["mat-raised-button","","fxHide.gt-md","","fuseMatSidenavToggler","chat-left-sidenav"]],template:function(t,e){1&t&&(d.bc(0,"div",0),d.bc(1,"div",1),d.bc(2,"mat-icon",2),d.Uc(3,"chat"),d.ac(),d.ac(),d.bc(4,"span",3),d.Uc(5," Chat App "),d.ac(),d.bc(6,"span",4),d.Uc(7," Select a contact to start a chat! "),d.ac(),d.bc(8,"button",5),d.Uc(9," Select a contact to start a chat! "),d.ac(),d.ac()),2&t&&(d.Hb(1),d.uc("@animate",d.xc(4,xt,d.wc(3,gt))),d.Hb(3),d.uc("@animate",d.xc(7,xt,d.wc(6,wt))),d.Hb(2),d.uc("@animate",d.xc(10,xt,d.wc(9,yt))))},directives:[W.b,W.e,W.d,v.a,P.b,l.b,V],styles:["chat-start{display:flex;flex:1}chat-start .big-circle{border-radius:50%;width:240px;height:240px;line-height:240px;text-align:center;border:1px solid}@media screen and (max-width:959px){chat-start .big-circle{width:160px;height:160px;line-height:160px}}chat-start .app-title{font-weight:600;font-size:32px}chat-start .secondary-text{font-size:16px}"],encapsulation:2,data:{animation:O.a}}),mt),St=["replyForm"],Ct=["replyInput"];function kt(t,e){if(1&t&&d.Wb(0,"img",30),2&t){var a=d.nc(2);d.vc("src",a.contact.avatar,d.Mc)}}var Lt=function(t,e,a,c){return{me:t,contact:e,"first-of-group":a,"last-of-group":c}};function At(t,e){if(1&t&&(d.bc(0,"div",25),d.Sc(1,kt,1,1,"img",26),d.bc(2,"div",27),d.bc(3,"div",28),d.Uc(4),d.ac(),d.bc(5,"div",29),d.Uc(6),d.oc(7,"date"),d.ac(),d.ac(),d.ac()),2&t){var a=e.$implicit,c=e.index,n=d.nc();d.uc("ngClass",d.Ac(7,Lt,a.who===n.user.id,a.who!==n.user.id,n.isFirstMessageOfGroup(a,c),n.isLastMessageOfGroup(a,c))),d.Hb(1),d.uc("ngIf",n.shouldShowContactAvatar(a,c)),d.Hb(3),d.Vc(a.message),d.Hb(2),d.Vc(d.qc(7,4,a.time,"short"))}}var It,Ot=((It=function(){function t(e){_classCallCheck(this,t),this._chatService=e,this._unsubscribeAll=new C.a}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this.user=this._chatService.user,this._chatService.onChatSelected.pipe(Object(I.a)(this._unsubscribeAll)).subscribe((function(e){e&&(t.selectedChat=e,t.contact=e.contact,t.dialog=e.dialog,t.readyToReply())}))}},{key:"ngAfterViewInit",value:function(){this.replyInput=this.replyInputField.first.nativeElement,this.readyToReply()}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}},{key:"shouldShowContactAvatar",value:function(t,e){return t.who===this.contact.id&&(this.dialog[e+1]&&this.dialog[e+1].who!==this.contact.id||!this.dialog[e+1])}},{key:"isFirstMessageOfGroup",value:function(t,e){return 0===e||this.dialog[e-1]&&this.dialog[e-1].who!==t.who}},{key:"isLastMessageOfGroup",value:function(t,e){return e===this.dialog.length-1||this.dialog[e+1]&&this.dialog[e+1].who!==t.who}},{key:"selectContact",value:function(){this._chatService.selectContact(this.contact)}},{key:"readyToReply",value:function(){var t=this;setTimeout((function(){t.focusReplyInput(),t.scrollToBottom()}))}},{key:"focusReplyInput",value:function(){var t=this;setTimeout((function(){t.replyInput.focus()}))}},{key:"scrollToBottom",value:function(t){var e=this;t=t||400,this.directiveScroll&&(this.directiveScroll.update(),setTimeout((function(){e.directiveScroll.scrollToBottom(0,t)})))}},{key:"reply",value:function(t){var e=this;if(t.preventDefault(),this.replyForm.form.value.message){var a={who:this.user.id,message:this.replyForm.form.value.message,time:(new Date).toISOString()};this.dialog.push(a),this.replyForm.reset(),this._chatService.updateDialog(this.selectedChat.chatId,this.dialog).then((function(t){e.readyToReply()}))}}}]),t}()).\u0275fac=function(t){return new(t||It)(d.Vb(A))},It.\u0275cmp=d.Pb({type:It,selectors:[["chat-view"]],viewQuery:function(t,e){var a;1&t&&(d.Zc(R.a,!0),d.Zc(St,!0),d.Zc(Ct,!0)),2&t&&(d.Fc(a=d.kc())&&(e.directiveScroll=a.first),d.Fc(a=d.kc())&&(e.replyForm=a.first),d.Fc(a=d.kc())&&(e.replyInputField=a))},decls:34,vars:8,consts:[["fxFlex","","fxLayout","column",1,"chat"],[1,"chat-toolbar"],["fxFlex","","fxLayout","row","fxLayoutAlign","space-between center"],["fxLayout","row","fxLayoutAlign","start center"],["mat-icon-button","","fxHide.gt-md","","fuseMatSidenavToggler","chat-left-sidenav","aria-label","chats button",1,"responsive-chats-button","mr-16"],["fxLayout","row","fxLayoutAlign","start center","fuseMatSidenavToggler","chat-right-sidenav",1,"chat-contact",3,"click"],[1,"avatar-wrapper"],[1,"avatar",3,"src","alt"],[1,"s-16","status",3,"ngClass"],[1,"chat-contact-name"],["mat-icon-button","","aria-label","more",3,"matMenuTriggerFor"],["contactMenu","matMenu"],["mat-menu-item","","fuseMatSidenavToggler","chat-right-sidenav",3,"click"],["id","chat-content","fxFlex","1 1 auto","fusePerfectScrollbar",""],[1,"chat-messages"],["class","message-row",3,"ngClass",4,"ngFor","ngForOf"],["fxFlex","0 0 auto","fxLayout","column",1,"chat-footer"],["fxFlex","0 0 auto","fxLayout","row","fxLayoutAlign","center center",1,"reply-form"],["fxFlex","","fxLayout","row","fxLayoutAlign","start center",3,"ngSubmit","keydown.enter"],["replyForm","ngForm"],["fxFlex","","floatLabel","never","appearance","standard",1,"message-text"],["matInput","","placeholder","Type your message","ngModel","","name","message",3,"rows","matTextareaAutosize"],["replyInput",""],["mat-icon-button","","type","submit","aria-label","Send message",1,"send-message-button"],[1,"secondary-text"],[1,"message-row",3,"ngClass"],["class","avatar",3,"src",4,"ngIf"],[1,"bubble"],[1,"message"],[1,"time","secondary-text"],[1,"avatar",3,"src"]],template:function(t,e){if(1&t&&(d.bc(0,"div",0),d.bc(1,"mat-toolbar",1),d.bc(2,"div",2),d.bc(3,"div",3),d.bc(4,"button",4),d.bc(5,"mat-icon"),d.Uc(6,"chat"),d.ac(),d.ac(),d.bc(7,"div",5),d.jc("click",(function(t){return e.selectContact()})),d.bc(8,"div",6),d.Wb(9,"img",7),d.Wb(10,"mat-icon",8),d.ac(),d.bc(11,"div",9),d.Uc(12),d.ac(),d.ac(),d.ac(),d.bc(13,"div"),d.bc(14,"button",10),d.bc(15,"mat-icon"),d.Uc(16,"more_vert"),d.ac(),d.ac(),d.bc(17,"mat-menu",null,11),d.bc(19,"button",12),d.jc("click",(function(t){return e.selectContact()})),d.Uc(20," Contact Info "),d.ac(),d.ac(),d.ac(),d.ac(),d.ac(),d.bc(21,"div",13),d.bc(22,"div",14),d.Sc(23,At,8,12,"div",15),d.ac(),d.ac(),d.bc(24,"div",16),d.bc(25,"div",17),d.bc(26,"form",18,19),d.jc("ngSubmit",(function(t){return e.reply(t)}))("keydown.enter",(function(t){return e.reply(t)})),d.bc(28,"mat-form-field",20),d.Wb(29,"textarea",21,22),d.ac(),d.bc(31,"button",23),d.bc(32,"mat-icon",24),d.Uc(33,"send"),d.ac(),d.ac(),d.ac(),d.ac(),d.ac(),d.ac()),2&t){var a=d.Gc(18);d.Hb(9),d.vc("alt",e.contact.name),d.uc("src",e.contact.avatar,d.Mc),d.Hb(1),d.uc("ngClass",e.contact.status),d.Hb(2),d.Wc(" ",e.contact.name," "),d.Hb(2),d.uc("matMenuTriggerFor",a),d.Hb(9),d.uc("ngForOf",e.dialog),d.Hb(6),d.uc("rows",1)("matTextareaAutosize",!0)}},directives:[W.b,W.e,y.a,W.d,l.b,P.b,V,v.a,j.q,P.a,g.c,g.d,g.a,R.a,j.s,D.w,D.p,D.q,f.b,m.b,D.b,m.d,D.o,D.r,j.t],pipes:[j.f],styles:["chat-view{display:flex;flex:1 0 auto;overflow:hidden;max-width:100%}chat-view .chat .chat-toolbar{min-height:64px;border-bottom:1px solid}chat-view .chat .chat-toolbar .responsive-chats-button{padding:0}chat-view .chat .chat-toolbar .chat-contact{cursor:pointer}chat-view .chat .chat-toolbar .chat-contact .avatar{margin-right:16px}chat-view .chat #chat-content{background:transparent;overflow:auto;-webkit-overflow-scrolling:touch}chat-view .chat #chat-content .chat-messages{position:relative;padding:16px 0 40px 40px}chat-view .chat #chat-content .chat-messages .message-row{position:relative;display:flex;flex-direction:column;align-items:flex-start;justify-content:flex-end;padding:0 16px 4px}chat-view .chat #chat-content .chat-messages .message-row .avatar{position:absolute;left:-32px;margin:0}chat-view .chat #chat-content .chat-messages .message-row .bubble{position:relative;display:flex;align-items:center;justify-content:center;padding:12px;max-width:100%}chat-view .chat #chat-content .chat-messages .message-row .bubble .message{white-space:pre-wrap;line-height:1.2}chat-view .chat #chat-content .chat-messages .message-row .bubble .time{position:absolute;display:none;width:100%;font-size:11px;margin-top:8px;top:100%;left:0;white-space:nowrap}chat-view .chat #chat-content .chat-messages .message-row.contact .bubble{border-top-left-radius:5px;border-bottom-left-radius:5px;border-top-right-radius:20px;border-bottom-right-radius:20px}chat-view .chat #chat-content .chat-messages .message-row.contact .bubble .time{margin-left:12px}chat-view .chat #chat-content .chat-messages .message-row.contact.first-of-group .bubble{border-top-left-radius:20px}chat-view .chat #chat-content .chat-messages .message-row.contact.last-of-group .bubble{border-bottom-left-radius:20px}chat-view .chat #chat-content .chat-messages .message-row.me{padding-left:40px}chat-view .chat #chat-content .chat-messages .message-row.me .avatar{order:2;margin:0 0 0 16px}chat-view .chat #chat-content .chat-messages .message-row.me .bubble{margin-left:auto;border-top-left-radius:20px;border-bottom-left-radius:20px;border-top-right-radius:5px;border-bottom-right-radius:5px}chat-view .chat #chat-content .chat-messages .message-row.me .bubble .time{justify-content:flex-end;right:0;margin-right:12px}chat-view .chat #chat-content .chat-messages .message-row.me.first-of-group .bubble{border-top-right-radius:20px}chat-view .chat #chat-content .chat-messages .message-row.me.last-of-group .bubble{border-bottom-right-radius:20px}chat-view .chat #chat-content .chat-messages .message-row.contact+.me,chat-view .chat #chat-content .chat-messages .message-row.me+.contact{padding-top:20px;margin-top:20px}chat-view .chat #chat-content .chat-messages .message-row.first-of-group .bubble{border-top-left-radius:20px;padding-top:13px}chat-view .chat #chat-content .chat-messages .message-row.last-of-group .bubble{border-bottom-left-radius:20px;padding-bottom:13px}chat-view .chat #chat-content .chat-messages .message-row.last-of-group .bubble .time{display:flex}chat-view .chat .chat-footer{border-top:1px solid;padding:8px 8px 8px 16px}chat-view .chat .chat-footer .reply-form{position:relative}chat-view .chat .chat-footer .reply-form .message-text{padding:16px 8px}chat-view .chat .chat-footer .reply-form .message-text .mat-form-field-wrapper,chat-view .chat .chat-footer .reply-form .message-text .mat-form-field-wrapper .mat-form-field-flex{padding:0}chat-view .chat .chat-footer .reply-form .message-text .mat-form-field-wrapper .mat-form-field-flex .mat-form-field-infix{padding:0;border-radius:20px;border:1px solid}chat-view .chat .chat-footer .reply-form .message-text .mat-form-field-wrapper .mat-form-field-flex .mat-form-field-infix textarea{overflow:hidden;margin:16px 48px 16px 16px;width:calc(100% - 64px);padding:0}chat-view .chat .chat-footer .reply-form .message-text .mat-form-field-wrapper .mat-form-field-underline{display:none!important}chat-view .chat .chat-footer .reply-form .send-message-button{position:absolute;right:16px;bottom:21px}"],encapsulation:2}),It);function Mt(t,e){1&t&&d.Wb(0,"chat-start")}function Ut(t,e){1&t&&d.Wb(0,"chat-view")}var Ht,Ft,Tt=[{path:"**",component:(Ht=function(){function t(e){_classCallCheck(this,t),this._chatService=e,this._unsubscribeAll=new C.a}return _createClass(t,[{key:"ngOnInit",value:function(){var t=this;this._chatService.onChatSelected.pipe(Object(I.a)(this._unsubscribeAll)).subscribe((function(e){t.selectedChat=e}))}},{key:"ngOnDestroy",value:function(){this._unsubscribeAll.next(),this._unsubscribeAll.complete()}}]),t}(),Ht.\u0275fac=function(t){return new(t||Ht)(d.Vb(A))},Ht.\u0275cmp=d.Pb({type:Ht,selectors:[["chat"]],decls:11,vars:2,consts:[["id","chat",1,"page-layout","carded","fullwidth","inner-scroll"],[1,"top-bg","accent"],[1,"center"],[1,"content-card"],["position","start","opened","true","mode","side","fuseMatSidenavHelper","chat-left-sidenav","matIsLockedOpen","gt-md",1,"sidenav"],[4,"ngIf"],["position","end","opened","false","mode","over","fuseMatSidenavHelper","chat-right-sidenav",1,"sidenav"]],template:function(t,e){1&t&&(d.bc(0,"div",0),d.Wb(1,"div",1),d.bc(2,"div",2),d.bc(3,"div",3),d.bc(4,"mat-sidenav-container"),d.bc(5,"mat-sidenav",4),d.Wb(6,"chat-left-sidenav"),d.ac(),d.Sc(7,Mt,1,0,"chat-start",5),d.Sc(8,Ut,1,0,"chat-view",5),d.bc(9,"mat-sidenav",6),d.Wb(10,"chat-right-sidenav"),d.ac(),d.ac(),d.ac(),d.ac(),d.ac()),2&t&&(d.Hb(7),d.uc("ngIf",!e.selectedChat),d.Hb(1),d.uc("ngIf",e.selectedChat))},directives:[M.a,w.b,w.a,T,ut,j.t,pt,_t,Ot],styles:["#chat .center{padding:32px!important;max-width:1400px;margin:0 auto}@media screen and (max-width:1279px){#chat .center{padding:0!important}}#chat .center .content-card{position:relative;display:flex;flex:1;border-radius:8px}#chat .center .content-card .mat-sidenav-container{display:flex;flex:1;width:100%}#chat .center .content-card .mat-sidenav-container>.mat-drawer-content,#chat .center .content-card .mat-sidenav-container>.mat-sidenav-content{display:flex;flex:1 1 auto;min-height:100%;height:auto}#chat .center .content-card .mat-sidenav-container>.mat-drawer-content{max-width:100%}#chat .center .content-card .mat-sidenav-container mat-sidenav{display:flex;flex-direction:column;width:400px;max-width:90%;overflow:hidden}"],encapsulation:2,data:{animation:O.a}}),Ht),children:[],resolve:{chat:A}}],Vt=((Ft=function t(){_classCallCheck(this,t)}).\u0275mod=d.Tb({type:Ft}),Ft.\u0275inj=d.Sb({factory:function(t){return new(t||Ft)},providers:[A],imports:[[u.k.forChild(Tt),l.c,b,f.d,v.b,m.c,p.d,g.b,x.c,w.c,y.b,_.a]]}),Ft)},vVcS:function(t,e,a){"use strict";a.d(e,"a",(function(){return n}));var c=a("fXoL"),n=function(){var t=function(){function t(){_classCallCheck(this,t)}return _createClass(t,[{key:"transform",value:function(t,e,a){var c=t.find((function(t){return void 0!==t.id&&t.id===e}));if(c)return c[a]}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275pipe=c.Ub({name:"getById",type:t,pure:!1}),t}()}}]);